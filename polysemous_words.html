<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Polysemous Words</title>
    <style>
        * {
            box-sizing: border-box;
        }

        body {
            margin: 0;
            padding: 10px;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            background: linear-gradient(135deg, #f8fafc, #e2e8f0);
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow-y: auto;
        }

        .container {
            max-width: 900px;
            width: 100%;
            text-align: center;
            position: relative;
            padding: 0 15px;
        }

        .help-btn {
            position: fixed;
            top: 10px;
            right: 10px;
            background: white;
            color: #64748b;
            border: 1px solid #e2e8f0;
            border-radius: 50%;
            width: 36px;
            height: 36px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
            z-index: 1000;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .help-btn:hover {
            background: #f8fafc;
            color: #475569;
            border-color: #cbd5e1;
        }

        .header {
            margin-bottom: 20px;
        }

        .title {
            font-size: clamp(20px, 5vw, 24px);
            font-weight: 300;
            color: #1e293b;
            margin-bottom: 8px;
            line-height: 1.2;
        }

        .highlight {
            color: #2563eb;
            font-weight: 600;
        }

        .subtitle {
            font-size: clamp(12px, 3vw, 14px);
            color: #64748b;
            margin-bottom: 4px;
            line-height: 1.3;
        }

        .tagline {
            font-size: clamp(11px, 2.5vw, 13px);
            color: #94a3b8;
            line-height: 1.3;
        }

        .quote-box {
            background: white;
            border-radius: 12px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
            padding: 40px 30px;
            margin-bottom: 15px;
            min-height: 320px;
            height: 320px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            position: relative;
            transition: opacity 1500ms ease;
            overflow: hidden;
        }

        .quote-box.fade-out {
            opacity: 0;
        }

        .quote-box.fade-in {
            opacity: 1;
        }

        .countdown-display {
            font-size: 70px;
            font-weight: 300;
            color: #2563eb;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .countdown-display.show {
            opacity: 1;
        }

        .word-title {
            font-size: 38px;
            font-weight: 600;
            color: #1e293b;
            letter-spacing: 1px;
            margin-bottom: 4px;
            opacity: 0;
            transition: opacity 1500ms ease;
            min-height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .word-title.show {
            opacity: 1;
        }

        .title-emoji {
            font-size: 44px;
            opacity: 0;
            transition: opacity 1500ms ease;
            margin-bottom: 12px;
            min-height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .title-emoji.show {
            opacity: 1;
        }

        .emoji-bg {
            position: absolute;
            font-size: 120px;
            opacity: 0;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            pointer-events: none;
            transition: opacity 0ms linear;
        }

        .sentence-container {
            font-size: 32px;
            font-weight: 300;
            color: #1e293b;
            line-height: 1.5;
            position: relative;
            z-index: 2;
            margin-bottom: 16px;
            letter-spacing: 0.3px;
            white-space: pre-wrap;
            word-wrap: break-word;
            min-height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
        }

        .char {
            display: inline-block;
            opacity: 0;
            transform: translateY(8px);
            transition: all 0.5s ease;
        }

        .char.show {
            opacity: 1;
            transform: translateY(0);
        }

        .char.key-word {
            color: #2563eb;
            font-weight: 500;
        }

        .char.key-word-2 {
            color: #10b981;
            font-weight: 500;
        }

        .char.key-word-3 {
            color: #9333ea;
            font-weight: 500;
        }

        .sentence-container.fading {
            opacity: 0;
            transition: opacity 80ms linear;
        }

        .info-section {
            padding-top: 12px;
            border-top: 1px solid #e2e8f0;
            opacity: 0;
            transform: translateY(5px);
            transition: all 0.8s ease;
            min-height: 60px;
            max-height: 80px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
            width: 100%;
        }

        .info-section.show {
            opacity: 1;
            transform: translateY(0);
        }

        .meaning-display {
            font-size: 17px;
            margin-bottom: 6px;
            font-weight: 600;
        }

        .meaning-1 { color: #2563eb; }
        .meaning-2 { color: #10b981; }
        .meaning-3 { color: #9333ea; }

        .shift-info {
            font-size: 12px;
            color: #64748b;
            font-style: italic;
        }

        .controls {
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 10px;
            gap: 10px;
        }

        .or-text {
            font-size: 11px;
            color: #94a3b8;
            opacity: 0;
            transition: opacity 0.5s ease;
            margin: 0 4px;
        }

        .or-text.show {
            opacity: 0.6;
        }

        .btn {
            padding: 8px 16px;
            border: none;
            border-radius: 20px;
            cursor: pointer;
            font-size: 12px;
            transition: all 0.3s ease;
            min-height: 44px;
            touch-action: manipulation;
        }

        .nav-btn {
            background: #e2e8f0;
            color: #475569;
            font-weight: 500;
            box-shadow: 0 2px 6px rgba(0, 0, 0, 0.12);
        }

        .nav-btn:hover {
            background: #cbd5e1;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.18);
            transform: translateY(-1px);
        }

        .nav-btn:active {
            transform: scale(0.98) translateY(0);
        }

        .nav-btn.pulse-strong {
            animation: strongPulse 600ms ease-in-out infinite;
        }

        @keyframes strongPulse {
            0%, 100% { 
                transform: scale(1); 
                box-shadow: 0 4px 12px rgba(37, 99, 235, 0.3);
            }
            50% { 
                transform: scale(1.1); 
                box-shadow: 0 8px 24px rgba(37, 99, 235, 0.6);
            }
        }

        .main-btn {
            background: #2563eb;
            color: white;
            font-size: 13px;
            padding: 10px 24px;
            font-weight: 600;
            box-shadow: 0 4px 10px rgba(37, 99, 235, 0.3);
        }

        .main-btn:hover {
            background: #1d4ed8;
            box-shadow: 0 6px 14px rgba(37, 99, 235, 0.4);
            transform: translateY(-1px);
        }

        .main-btn:active {
            transform: scale(0.98) translateY(0);
        }

        .main-btn:disabled {
            background: #94a3b8;
            cursor: not-allowed;
        }

        .main-btn.pulse-soft {
            animation: softPulse 600ms ease-in-out infinite;
        }

        @keyframes softPulse {
            0%, 100% { 
                opacity: 1; 
            }
            50% { 
                opacity: 0.85; 
            }
        }

        .progress {
            font-size: 12px;
            color: #64748b;
            margin-bottom: 10px;
        }

        .footer {
            font-size: 11px;
            color: #94a3b8;
        }

        .footer a {
            color: #64748b;
            text-decoration: none;
        }

        .modal-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            backdrop-filter: blur(5px);
            z-index: 2000;
            justify-content: center;
            align-items: center;
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        .modal-overlay.show {
            display: flex !important;
        }

        /* Ensure modal is always centered */
        .modal-overlay.show .modal-box {
            position: static !important;
            margin: 0 !important;
            top: auto !important;
            left: auto !important;
            right: auto !important;
            bottom: auto !important;
            transform: none !important;
        }

        .modal-box {
            background: white;
            border-radius: 16px;
            padding: 24px;
            width: 90%;
            max-width: 400px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            position: relative;
            margin: 0;
            transform: none;
            flex-shrink: 0;
        }

        .modal-header {
            text-align: center;
            margin-bottom: 20px;
        }

        .modal-title {
            font-size: 22px;
            font-weight: 600;
            color: #1e293b;
            margin-bottom: 8px;
        }

        .modal-content {
            text-align: left;
            color: #475569;
            line-height: 1.6;
            font-size: 14px;
        }

        .modal-content p {
            margin: 0 0 12px 0;
        }

        .close-btn {
            position: absolute;
            top: 12px;
            right: 12px;
            background: transparent;
            border: none;
            font-size: 24px;
            color: #94a3b8;
            cursor: pointer;
            width: 32px;
            height: 32px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            transition: all 0.2s ease;
        }

        .close-btn:hover {
            background: #f1f5f9;
            color: #64748b;
        }

        @media (min-width: 768px) {
            .btn {
                min-height: 36px;
            }
        }
    </style>
</head>
<body>
    <button class="help-btn" onclick="openHelpModal()">?</button>

    <div class="container">
        <div class="header">
            <h1 class="title">The Art of <span class="highlight">Polysemy</span></h1>
            <p class="subtitle">Watch how one word transforms meaning across contexts</p>
            <p class="tagline">Same spelling, different worlds</p>
        </div>

        <div class="quote-box" id="quoteBox">
            <div class="countdown-display" id="countdownDisplay"></div>
            <div class="word-title" id="wordTitle"></div>
            <div class="title-emoji" id="titleEmoji"></div>
            <div class="emoji-bg" id="emojiBg"></div>
            <div class="sentence-container" id="sentenceContainer"></div>
            <div class="info-section" id="infoSection">
                <div class="meaning-display" id="meaningDisplay"></div>
                <div class="shift-info" id="shiftInfo"></div>
            </div>
        </div>

        <div class="controls">
            <button class="btn nav-btn" id="prevBtn" onclick="previousWord()">‚Üê Previous</button>
            <button class="btn main-btn" id="mainBtn" disabled>Building...</button>
            <span class="or-text" id="orText">or</span>
            <button class="btn nav-btn" id="nextBtn" onclick="nextWord()">Next ‚Üí</button>
        </div>

        <div class="progress" id="progress">1 of 25</div>

        <div class="footer">
            Created with love by <a href="#">BeyondDictionary.Com</a>
        </div>
    </div>

    <div class="modal-overlay" id="helpModal">
        <div class="modal-box">
            <button class="close-btn" onclick="closeHelpModal()">√ó</button>
            <div class="modal-header">
                <h2 class="modal-title">How This Works</h2>
            </div>
            <div class="modal-content">
                <p><strong>Experience polysemy</strong> ‚Äî the phenomenon where one word carries multiple meanings.</p>
                <p>You'll see a word used in three different sentences. Watch how the same spelling transforms meaning based on context.</p>
                <p><strong>Take your time.</strong> This is contemplation, not consumption. Each word reveals itself slowly, inviting reflection.</p>
                <p>After each word completes, you can replay it, move forward, or go back. If you don't click, the experience will gently continue forward.</p>
                <p><strong>Enjoy the journey</strong> through language's beautiful complexity.</p>
            </div>
        </div>
    </div>

    <script>
        const CHARACTER_SPEED = 80;
        const SPACE_SPEED = CHARACTER_SPEED * 2.5;
        const KEY_WORD_PAUSE = 1000;
        const SENTENCE_PAUSE = CHARACTER_SPEED * 40 * 0.8;
        const MEANING_PAUSE = CHARACTER_SPEED * 80;
        const PULSE_DURATION = 3000;
        const STATIC_WAIT = 3000;
        const FADE_OUT_DURATION = 1000;
        const FADE_IN_DURATION = 1000;

        var polysemousWords = [
            // Original 25 words
            {word:"head",titleEmoji:"üß†",contexts:[{sentence:"She touched her head",meaning:"Body part",emoji:"üë§"},{sentence:"He is the head of the school",meaning:"Leader",emoji:"üëî"},{sentence:"We climbed to the head of the table",meaning:"Top of something",emoji:"‚¨ÜÔ∏è"}],shifts:["Physical ‚Üí Positional","Positional ‚Üí Spatial"]},{word:"foot",titleEmoji:"ü¶ø",contexts:[{sentence:"She hurt her foot",meaning:"Body part",emoji:"ü¶∂"},{sentence:"The house lies at the foot of the hill",meaning:"Bottom of something",emoji:"üèîÔ∏è"},{sentence:"The tower is 200 feet tall",meaning:"Unit of measure",emoji:"üìè"}],shifts:["Physical ‚Üí Spatial","Spatial ‚Üí Measurement"]},{word:"light",titleEmoji:"üí´",contexts:[{sentence:"Turn on the light",meaning:"Illumination",emoji:"üí°"},{sentence:"This bag is light",meaning:"Not heavy",emoji:"üéà"},{sentence:"The room was full of light",meaning:"Brightness",emoji:"‚òÄÔ∏è"}],shifts:["Object ‚Üí Property","Property ‚Üí Condition"]},{word:"paper",titleEmoji:"üìã",contexts:[{sentence:"She wrote on the paper",meaning:"Writing material",emoji:"üìÑ"},{sentence:"I read it in the paper",meaning:"Newspaper",emoji:"üì∞"},{sentence:"He published a research paper",meaning:"Academic essay",emoji:"üìö"}],shifts:["Material ‚Üí Publication","Publication ‚Üí Document"]},{word:"book",titleEmoji:"üìö",contexts:[{sentence:"I bought a book",meaning:"Set of pages",emoji:"üìñ"},{sentence:"We booked a taxi",meaning:"To reserve",emoji:"üöï"},{sentence:"Check the account book",meaning:"Record of accounts",emoji:"üìä"}],shifts:["Object ‚Üí Action","Action ‚Üí Record"]},{word:"right",titleEmoji:"‚úîÔ∏è",contexts:[{sentence:"That answer is right",meaning:"Correct",emoji:"‚úÖ"},{sentence:"Turn right at the corner",meaning:"Direction",emoji:"‚û°Ô∏è"},{sentence:"Everyone has the right to speak",meaning:"Moral entitlement",emoji:"‚öñÔ∏è"}],shifts:["Accuracy ‚Üí Direction","Direction ‚Üí Ethics"]},{word:"spring",titleEmoji:"üå∫",contexts:[{sentence:"Spring comes after winter",meaning:"Season",emoji:"üå∏"},{sentence:"The bed has a metal spring",meaning:"Coil",emoji:"üî©"},{sentence:"The cat can spring high",meaning:"Leap or jump",emoji:"üê±"}],shifts:["Time ‚Üí Object","Object ‚Üí Action"]},{word:"bank",titleEmoji:"üèõÔ∏è",contexts:[{sentence:"I deposited money in the bank",meaning:"Financial institution",emoji:"üè¶"},{sentence:"We sat on the river bank",meaning:"Edge of river",emoji:"üåä"},{sentence:"You can bank on her support",meaning:"Rely on",emoji:"ü§ù"}],shifts:["Institution ‚Üí Geography","Geography ‚Üí Trust"]},{word:"point",titleEmoji:"üéØ",contexts:[{sentence:"Draw a point on the map",meaning:"Dot",emoji:"üìç"},{sentence:"Meet me at this point",meaning:"Location",emoji:"üìå"},{sentence:"What's your point?",meaning:"Idea or argument",emoji:"üí≠"}],shifts:["Visual ‚Üí Spatial","Spatial ‚Üí Abstract"]},{word:"mark",titleEmoji:"üèÖ",contexts:[{sentence:"He got a high mark",meaning:"Grade",emoji:"üíØ"},{sentence:"There's a mark on your shirt",meaning:"Stain",emoji:"üëï"},{sentence:"The cross is a mark of faith",meaning:"Sign or symbol",emoji:"‚úùÔ∏è"}],shifts:["Evaluation ‚Üí Physical","Physical ‚Üí Symbolic"]},{word:"table",titleEmoji:"üçΩÔ∏è",contexts:[{sentence:"We ate at the table",meaning:"Furniture",emoji:"ü™ë"},{sentence:"Look at the data table",meaning:"Chart",emoji:"üìä"},{sentence:"They tabled the motion",meaning:"To postpone",emoji:"‚è∏Ô∏è"}],shifts:["Object ‚Üí Representation","Representation ‚Üí Action"]},{word:"fair",titleEmoji:"üé°",contexts:[{sentence:"That was a fair decision",meaning:"Just",emoji:"‚öñÔ∏è"},{sentence:"She has fair skin",meaning:"Light complexion",emoji:"üë§"},{sentence:"We went to the book fair",meaning:"Carnival",emoji:"üé™"}],shifts:["Moral ‚Üí Physical","Physical ‚Üí Event"]},{word:"well",titleEmoji:"üåü",contexts:[{sentence:"She is well now",meaning:"Healthy",emoji:"üòä"},{sentence:"The village has a deep well",meaning:"Water source",emoji:"üíß"},{sentence:"Well, let's begin!",meaning:"Exclamation",emoji:"üí¨"}],shifts:["Health ‚Üí Structure","Structure ‚Üí Expression"]},{word:"post",titleEmoji:"üìÆ",contexts:[{sentence:"I received a post",meaning:"Mail",emoji:"üì¨"},{sentence:"He got a new post abroad",meaning:"Position or job",emoji:"üíº"},{sentence:"Tie the rope to the post",meaning:"Vertical pole",emoji:"ü™µ"}],shifts:["Communication ‚Üí Career","Career ‚Üí Object"]},{word:"watch",titleEmoji:"‚è∞",contexts:[{sentence:"Watch the show carefully",meaning:"To look at",emoji:"üëÄ"},{sentence:"I wear a watch",meaning:"Timepiece",emoji:"‚åö"},{sentence:"The soldier had night watch",meaning:"Guard duty",emoji:"üíÇ"}],shifts:["Action ‚Üí Object","Object ‚Üí Duty"]},{word:"run",titleEmoji:"üèÉ",contexts:[{sentence:"She can run quickly",meaning:"To move fast",emoji:"üèÉ"},{sentence:"I run a business",meaning:"To operate",emoji:"üíº"},{sentence:"He had a run of bad luck",meaning:"Sequence",emoji:"üé≤"}],shifts:["Physical ‚Üí Management","Management ‚Üí Pattern"]},{word:"train",titleEmoji:"üöÜ",contexts:[{sentence:"The train arrived late",meaning:"Transport",emoji:"üöÇ"},{sentence:"She trains young athletes",meaning:"To teach",emoji:"üèãÔ∏è"},{sentence:"A train of thoughts crossed his mind",meaning:"Series",emoji:"üí≠"}],shifts:["Vehicle ‚Üí Action","Action ‚Üí Pattern"]},{word:"arm",titleEmoji:"üí™",contexts:[{sentence:"He raised his arm",meaning:"Body part",emoji:"üí™"},{sentence:"The country armed itself",meaning:"Weapons",emoji:"‚öîÔ∏è"},{sentence:"The research arm of the company grew",meaning:"Branch",emoji:"üè¢"}],shifts:["Physical ‚Üí Military","Military ‚Üí Organizational"]},{word:"match",titleEmoji:"üî•",contexts:[{sentence:"They won the match",meaning:"Contest",emoji:"üèÜ"},{sentence:"Strike a match to light the candle",meaning:"Fire stick",emoji:"üî•"},{sentence:"They are a perfect match",meaning:"Suitable pair",emoji:"üíë"}],shifts:["Competition ‚Üí Object","Object ‚Üí Compatibility"]},{word:"key",titleEmoji:"üîë",contexts:[{sentence:"That clue is the key to the puzzle",meaning:"Solution",emoji:"üîë"},{sentence:"Press the Enter key",meaning:"Button",emoji:"‚å®Ô∏è"},{sentence:"I lost my house key",meaning:"Lock-opener",emoji:"üè†"}],shifts:["Abstract ‚Üí Digital","Digital ‚Üí Physical"]},{word:"glass",titleEmoji:"ü•É",contexts:[{sentence:"She filled the glass with water",meaning:"Drinking vessel",emoji:"ü•õ"},{sentence:"The window is made of glass",meaning:"Material",emoji:"ü™ü"},{sentence:"I need new glasses",meaning:"Spectacles",emoji:"üëì"}],shifts:["Container ‚Üí Material","Material ‚Üí Vision aid"]},{word:"ring",titleEmoji:"üíç",contexts:[{sentence:"He bought her a gold ring",meaning:"Circular band",emoji:"üíç"},{sentence:"I heard the phone ring",meaning:"Bell sound",emoji:"üìû"},{sentence:"The police caught a drug ring",meaning:"Criminal group",emoji:"üëÆ"}],shifts:["Object ‚Üí Sound","Sound ‚Üí Organization"]},{word:"charge",titleEmoji:"‚ö°",contexts:[{sentence:"The hotel charges $100 per night",meaning:"Payment",emoji:"üíµ"},{sentence:"Soldiers charged the enemy",meaning:"Rush forward",emoji:"‚öîÔ∏è"},{sentence:"He faced a serious charge",meaning:"Legal accusation",emoji:"‚öñÔ∏è"}],shifts:["Financial ‚Üí Military","Military ‚Üí Legal"]},{word:"board",titleEmoji:"üìã",contexts:[{sentence:"The board was nailed to the wall",meaning:"Flat surface",emoji:"ü™µ"},{sentence:"She joined the school board",meaning:"Committee",emoji:"üë•"},{sentence:"We boarded the plane",meaning:"To enter",emoji:"‚úàÔ∏è"}],shifts:["Object ‚Üí Group","Group ‚Üí Action"]},            {word:"bat",titleEmoji:"ü¶á",contexts:[{sentence:"He hit the ball with a bat",meaning:"Sports club",emoji:"‚öæ"},{sentence:"A bat flew out of the cave",meaning:"Flying mammal",emoji:"ü¶á"},{sentence:"Don't bat an eye at the news",meaning:"To blink",emoji:"üëÅÔ∏è"}],shifts:["Object ‚Üí Animal","Animal ‚Üí Action"]},{word:"crane",titleEmoji:"üèóÔ∏è",contexts:[{sentence:"The crane lifted the steel beam",meaning:"Construction machine",emoji:"üèóÔ∏è"},{sentence:"A crane waded in the marsh",meaning:"Long-necked bird",emoji:"ü¶©"},{sentence:"She had to crane her neck to see",meaning:"To stretch",emoji:"üëÄ"}],shifts:["Machine ‚Üí Animal","Animal ‚Üí Action"]},{word:"scale",titleEmoji:"‚öñÔ∏è",contexts:[{sentence:"Fish have protective scales",meaning:"Skin covering",emoji:"üêü"},{sentence:"Weigh it on the scale",meaning:"Measuring device",emoji:"‚öñÔ∏è"},{sentence:"The map has a scale of 1:1000",meaning:"Proportion",emoji:"üó∫Ô∏è"}],shifts:["Physical ‚Üí Object","Object ‚Üí Abstract"]},{word:"crown",titleEmoji:"üëë",contexts:[{sentence:"The queen wore a golden crown",meaning:"Royal headpiece",emoji:"üëë"},{sentence:"The crown of the tree was thick",meaning:"Top part",emoji:"üå≥"},{sentence:"This achievement crowns his career",meaning:"To complete",emoji:"üèÜ"}],shifts:["Object ‚Üí Spatial","Spatial ‚Üí Action"]},{word:"palm",titleEmoji:"üå¥",contexts:[{sentence:"She held it in her palm",meaning:"Hand surface",emoji:"‚úã"},{sentence:"Palm trees swayed in the breeze",meaning:"Tropical tree",emoji:"üå¥"},{sentence:"He tried to palm the card",meaning:"To conceal",emoji:"üÉè"}],shifts:["Body ‚Üí Plant","Plant ‚Üí Action"]},{word:"cricket",titleEmoji:"ü¶ó",contexts:[{sentence:"A cricket chirped in the grass",meaning:"Insect",emoji:"ü¶ó"},{sentence:"They played cricket all day",meaning:"Sport",emoji:"üèè"},{sentence:"That's not cricket behavior",meaning:"Fair play",emoji:"‚öñÔ∏è"}],shifts:["Animal ‚Üí Game","Game ‚Üí Ethics"]},{word:"date",titleEmoji:"üìÖ",contexts:[{sentence:"What's the date today?",meaning:"Calendar day",emoji:"üìÖ"},{sentence:"She ate a sweet date",meaning:"Fruit",emoji:"üçá"},{sentence:"They went on a romantic date",meaning:"Social meeting",emoji:"üíï"}],shifts:["Time ‚Üí Food","Food ‚Üí Social"]},{word:"pound",titleEmoji:"üí∑",contexts:[{sentence:"The dog weighs 20 pounds",meaning:"Unit of weight",emoji:"‚öñÔ∏è"},{sentence:"The British pound fell",meaning:"Currency",emoji:"üí∑"},{sentence:"He will pound the nail",meaning:"To hit hard",emoji:"üî®"}],shifts:["Measurement ‚Üí Money","Money ‚Üí Action"]},{word:"pitch",titleEmoji:"‚öæ",contexts:[{sentence:"The pitch was perfect",meaning:"Playing field",emoji:"‚öæ"},{sentence:"The roof has a steep pitch",meaning:"Slope",emoji:"üè†"},{sentence:"She will pitch her idea",meaning:"To present",emoji:"üí°"}],shifts:["Space ‚Üí Angle","Angle ‚Üí Communication"]},{word:"rock",titleEmoji:"ü™®",contexts:[{sentence:"The rock was heavy",meaning:"Stone",emoji:"ü™®"},{sentence:"The boat began to rock",meaning:"To sway",emoji:"üö§"},{sentence:"This music really rocks",meaning:"To be excellent",emoji:"üéµ"}],shifts:["Object ‚Üí Motion","Motion ‚Üí Quality"]},{word:"saw",titleEmoji:"üî®",contexts:[{sentence:"He used a saw to cut wood",meaning:"Cutting tool",emoji:"üî®"},{sentence:"I saw the movie yesterday",meaning:"Past tense of see",emoji:"üëÄ"},{sentence:"The old saw about patience",meaning:"Saying",emoji:"üí≠"}],shifts:["Tool ‚Üí Perception","Perception ‚Üí Wisdom"]},{word:"seal",titleEmoji:"ü¶≠",contexts:[{sentence:"The seal clapped its flippers",meaning:"Marine animal",emoji:"ü¶≠"},{sentence:"Break the seal on the jar",meaning:"Closure",emoji:"üçØ"},{sentence:"The king's seal was official",meaning:"Stamp",emoji:"üìú"}],shifts:["Animal ‚Üí Object","Object ‚Üí Authority"]},{word:"sink",titleEmoji:"üö∞",contexts:[{sentence:"Wash dishes in the sink",meaning:"Basin",emoji:"üö∞"},{sentence:"The ship began to sink",meaning:"To go down",emoji:"üö¢"},{sentence:"The sun will sink soon",meaning:"To set",emoji:"üåÖ"}],shifts:["Object ‚Üí Motion","Motion ‚Üí Natural"]},{word:"spell",titleEmoji:"‚ú®",contexts:[{sentence:"Cast a magic spell",meaning:"Enchantment",emoji:"‚ú®"},{sentence:"How do you spell that?",meaning:"To write letters",emoji:"‚úçÔ∏è"},{sentence:"A spell of bad weather",meaning:"Period",emoji:"‚õàÔ∏è"}],shifts:["Magic ‚Üí Language","Language ‚Üí Time"]},{word:"spring",titleEmoji:"üå∫",contexts:[{sentence:"Spring comes after winter",meaning:"Season",emoji:"üå∏"},{sentence:"The bed has a metal spring",meaning:"Coil",emoji:"üî©"},{sentence:"The cat can spring high",meaning:"Leap or jump",emoji:"üê±"}],shifts:["Time ‚Üí Object","Object ‚Üí Action"]},{word:"stamp",titleEmoji:"üìÆ",contexts:[{sentence:"Put a stamp on the letter",meaning:"Postal sticker",emoji:"üìÆ"},{sentence:"Stamp your foot loudly",meaning:"To hit hard",emoji:"üë£"},{sentence:"The official stamp was required",meaning:"Mark",emoji:"üìú"}],shifts:["Object ‚Üí Action","Action ‚Üí Authority"]},{word:"tank",titleEmoji:"üöó",contexts:[{sentence:"The army tank rolled forward",meaning:"Military vehicle",emoji:"üöó"},{sentence:"Fill the fish tank with water",meaning:"Container",emoji:"üê†"},{sentence:"The gas tank is empty",meaning:"Storage unit",emoji:"‚õΩ"}],shifts:["Vehicle ‚Üí Container","Container ‚Üí Storage"]},{word:"tie",titleEmoji:"üëî",contexts:[{sentence:"Wear a tie to the meeting",meaning:"Neckwear",emoji:"üëî"},{sentence:"Tie your shoelaces tight",meaning:"To fasten",emoji:"üëü"},{sentence:"The game ended in a tie",meaning:"Equal score",emoji:"‚öΩ"}],shifts:["Clothing ‚Üí Action","Action ‚Üí Result"]},{word:"wave",titleEmoji:"üåä",contexts:[{sentence:"The wave crashed on shore",meaning:"Water movement",emoji:"üåä"},{sentence:"Wave goodbye to grandma",meaning:"To gesture",emoji:"üëã"},{sentence:"A wave of excitement",meaning:"Surge",emoji:"‚ö°"}],shifts:["Natural ‚Üí Gesture","Gesture ‚Üí Emotion"]},{word:"wind",titleEmoji:"üí®",contexts:[{sentence:"The wind blew strongly",meaning:"Air movement",emoji:"üí®"},{sentence:"Wind the clock carefully",meaning:"To turn",emoji:"üïê"},{sentence:"The path winds through hills",meaning:"To curve",emoji:"üèîÔ∏è"}],shifts:["Natural ‚Üí Mechanical","Mechanical ‚Üí Spatial"]},{word:"yard",titleEmoji:"üè°",contexts:[{sentence:"Play in the backyard",meaning:"Outdoor area",emoji:"üè°"},{sentence:"The fabric is three yards long",meaning:"Unit of length",emoji:"üìè"},{sentence:"The ship's yard was busy",meaning:"Workshop",emoji:"‚öì"}],shifts:["Space ‚Üí Measurement","Measurement ‚Üí Workplace"]},{word:"bark",titleEmoji:"üêï",contexts:[{sentence:"The dog's bark was loud",meaning:"Dog sound",emoji:"üêï"},{sentence:"The tree's bark was rough",meaning:"Tree covering",emoji:"üå≥"},{sentence:"The captain barked orders",meaning:"To shout",emoji:"üì¢"}],shifts:["Sound ‚Üí Physical","Physical ‚Üí Communication"]},{word:"bow",titleEmoji:"üèπ",contexts:[{sentence:"Tie a bow in the ribbon",meaning:"Knot",emoji:"üéÄ"},{sentence:"The bow of the ship",meaning:"Front part",emoji:"üö¢"},{sentence:"Bow to the audience",meaning:"To bend",emoji:"üé≠"}],shifts:["Object ‚Üí Spatial","Spatial ‚Üí Gesture"]},{word:"can",titleEmoji:"ü•´",contexts:[{sentence:"Open a can of beans",meaning:"Container",emoji:"ü•´"},{sentence:"I can swim well",meaning:"To be able",emoji:"üèä"},{sentence:"The can was empty",meaning:"Metal container",emoji:"üóëÔ∏è"}],shifts:["Container ‚Üí Ability","Ability ‚Üí Object"]},{word:"change",titleEmoji:"üí∞",contexts:[{sentence:"Keep the change",meaning:"Money back",emoji:"üí∞"},{sentence:"Change your clothes",meaning:"To alter",emoji:"üëï"},{sentence:"The weather will change",meaning:"To become different",emoji:"üå§Ô∏è"}],shifts:["Money ‚Üí Action","Action ‚Üí Natural"]},            {word:"crack",titleEmoji:"üí•",contexts:[{sentence:"There's a crack in the wall",meaning:"Break",emoji:"üí•"},{sentence:"Crack the eggs open",meaning:"To break",emoji:"ü•ö"},{sentence:"That's a crack joke",meaning:"Excellent",emoji:"üòÑ"}],shifts:["Physical ‚Üí Action","Action ‚Üí Quality"]},
            // Words 26-50
            {word:"crane",titleEmoji:"üèóÔ∏è",contexts:[{sentence:"The crane lifted the steel beam",meaning:"Construction machine",emoji:"üèóÔ∏è"},{sentence:"A crane waded in the marsh",meaning:"Long-necked bird",emoji:"ü¶©"},{sentence:"She had to crane her neck to see",meaning:"To stretch",emoji:"üëÄ"}],shifts:["Machine ‚Üí Animal","Animal ‚Üí Action"]},
            {word:"scale",titleEmoji:"‚öñÔ∏è",contexts:[{sentence:"Fish have protective scales",meaning:"Skin covering",emoji:"üêü"},{sentence:"Weigh it on the scale",meaning:"Measuring device",emoji:"‚öñÔ∏è"},{sentence:"The map has a scale of 1:1000",meaning:"Proportion",emoji:"üó∫Ô∏è"}],shifts:["Physical ‚Üí Object","Object ‚Üí Abstract"]},
            {word:"crown",titleEmoji:"üëë",contexts:[{sentence:"The queen wore a golden crown",meaning:"Royal headpiece",emoji:"üëë"},{sentence:"The crown of the tree was thick",meaning:"Top part",emoji:"üå≥"},{sentence:"This achievement crowns his career",meaning:"To complete",emoji:"üèÜ"}],shifts:["Object ‚Üí Spatial","Spatial ‚Üí Action"]},
            {word:"palm",titleEmoji:"üå¥",contexts:[{sentence:"She held it in her palm",meaning:"Hand surface",emoji:"‚úã"},{sentence:"Palm trees swayed in the breeze",meaning:"Tropical tree",emoji:"üå¥"},{sentence:"He tried to palm the card",meaning:"To conceal",emoji:"üÉè"}],shifts:["Body ‚Üí Plant","Plant ‚Üí Action"]},
            {word:"cricket",titleEmoji:"ü¶ó",contexts:[{sentence:"A cricket chirped in the grass",meaning:"Insect",emoji:"ü¶ó"},{sentence:"They played cricket all day",meaning:"Sport",emoji:"üèè"},{sentence:"That's not cricket behavior",meaning:"Fair play",emoji:"‚öñÔ∏è"}],shifts:["Animal ‚Üí Game","Game ‚Üí Ethics"]},
            {word:"date",titleEmoji:"üìÖ",contexts:[{sentence:"What's the date today?",meaning:"Calendar day",emoji:"üìÖ"},{sentence:"She ate a sweet date",meaning:"Fruit",emoji:"üçá"},{sentence:"They went on a romantic date",meaning:"Social meeting",emoji:"üíï"}],shifts:["Time ‚Üí Food","Food ‚Üí Social"]},
            {word:"pound",titleEmoji:"üí∑",contexts:[{sentence:"The dog weighs 20 pounds",meaning:"Unit of weight",emoji:"‚öñÔ∏è"},{sentence:"The British pound fell",meaning:"Currency",emoji:"üí∑"},{sentence:"He will pound the nail",meaning:"To hit hard",emoji:"üî®"}],shifts:["Measurement ‚Üí Money","Money ‚Üí Action"]},
            {word:"pitch",titleEmoji:"‚öæ",contexts:[{sentence:"The pitch was perfect",meaning:"Playing field",emoji:"‚öæ"},{sentence:"The roof has a steep pitch",meaning:"Slope",emoji:"üè†"},{sentence:"She will pitch her idea",meaning:"To present",emoji:"üí°"}],shifts:["Space ‚Üí Angle","Angle ‚Üí Communication"]},
            {word:"rock",titleEmoji:"ü™®",contexts:[{sentence:"The rock was heavy",meaning:"Stone",emoji:"ü™®"},{sentence:"The boat began to rock",meaning:"To sway",emoji:"üö§"},{sentence:"This music really rocks",meaning:"To be excellent",emoji:"üéµ"}],shifts:["Object ‚Üí Motion","Motion ‚Üí Quality"]},
            {word:"saw",titleEmoji:"üî®",contexts:[{sentence:"He used a saw to cut wood",meaning:"Cutting tool",emoji:"üî®"},{sentence:"I saw the movie yesterday",meaning:"Past tense of see",emoji:"üëÄ"},{sentence:"The old saw about patience",meaning:"Saying",emoji:"üí≠"}],shifts:["Tool ‚Üí Perception","Perception ‚Üí Wisdom"]},
            {word:"seal",titleEmoji:"ü¶≠",contexts:[{sentence:"The seal clapped its flippers",meaning:"Marine animal",emoji:"ü¶≠"},{sentence:"Break the seal on the jar",meaning:"Closure",emoji:"üçØ"},{sentence:"The king's seal was official",meaning:"Stamp",emoji:"üìú"}],shifts:["Animal ‚Üí Object","Object ‚Üí Authority"]},
            {word:"sink",titleEmoji:"üö∞",contexts:[{sentence:"Wash dishes in the sink",meaning:"Basin",emoji:"üö∞"},{sentence:"The ship began to sink",meaning:"To go down",emoji:"üö¢"},{sentence:"The sun will sink soon",meaning:"To set",emoji:"üåÖ"}],shifts:["Object ‚Üí Motion","Motion ‚Üí Natural"]},
            {word:"spell",titleEmoji:"‚ú®",contexts:[{sentence:"Cast a magic spell",meaning:"Enchantment",emoji:"‚ú®"},{sentence:"How do you spell that?",meaning:"To write letters",emoji:"‚úçÔ∏è"},{sentence:"A spell of bad weather",meaning:"Period",emoji:"‚õàÔ∏è"}],shifts:["Magic ‚Üí Language","Language ‚Üí Time"]},
            {word:"stamp",titleEmoji:"üìÆ",contexts:[{sentence:"Put a stamp on the letter",meaning:"Postal sticker",emoji:"üìÆ"},{sentence:"Stamp your foot loudly",meaning:"To hit hard",emoji:"üë£"},{sentence:"The official stamp was required",meaning:"Mark",emoji:"üìú"}],shifts:["Object ‚Üí Action","Action ‚Üí Authority"]},
            {word:"tank",titleEmoji:"üöó",contexts:[{sentence:"The army tank rolled forward",meaning:"Military vehicle",emoji:"üöó"},{sentence:"Fill the fish tank with water",meaning:"Container",emoji:"üê†"},{sentence:"The gas tank is empty",meaning:"Storage unit",emoji:"‚õΩ"}],shifts:["Vehicle ‚Üí Container","Container ‚Üí Storage"]},
            {word:"tie",titleEmoji:"üëî",contexts:[{sentence:"Wear a tie to the meeting",meaning:"Neckwear",emoji:"üëî"},{sentence:"Tie your shoelaces tight",meaning:"To fasten",emoji:"üëü"},{sentence:"The game ended in a tie",meaning:"Equal score",emoji:"‚öΩ"}],shifts:["Clothing ‚Üí Action","Action ‚Üí Result"]},
            {word:"wave",titleEmoji:"üåä",contexts:[{sentence:"The wave crashed on shore",meaning:"Water movement",emoji:"üåä"},{sentence:"Wave goodbye to grandma",meaning:"To gesture",emoji:"üëã"},{sentence:"A wave of excitement",meaning:"Surge",emoji:"‚ö°"}],shifts:["Natural ‚Üí Gesture","Gesture ‚Üí Emotion"]},
            {word:"wind",titleEmoji:"üí®",contexts:[{sentence:"The wind blew strongly",meaning:"Air movement",emoji:"üí®"},{sentence:"Wind the clock carefully",meaning:"To turn",emoji:"üïê"},{sentence:"The path winds through hills",meaning:"To curve",emoji:"üèîÔ∏è"}],shifts:["Natural ‚Üí Mechanical","Mechanical ‚Üí Spatial"]},
            {word:"yard",titleEmoji:"üè°",contexts:[{sentence:"Play in the backyard",meaning:"Outdoor area",emoji:"üè°"},{sentence:"The fabric is three yards long",meaning:"Unit of length",emoji:"üìè"},{sentence:"The ship's yard was busy",meaning:"Workshop",emoji:"‚öì"}],shifts:["Space ‚Üí Measurement","Measurement ‚Üí Workplace"]},
            {word:"bark",titleEmoji:"üêï",contexts:[{sentence:"The dog's bark was loud",meaning:"Dog sound",emoji:"üêï"},{sentence:"The tree's bark was rough",meaning:"Tree covering",emoji:"üå≥"},{sentence:"The captain barked orders",meaning:"To shout",emoji:"üì¢"}],shifts:["Sound ‚Üí Physical","Physical ‚Üí Communication"]},
            {word:"bow",titleEmoji:"üèπ",contexts:[{sentence:"Tie a bow in the ribbon",meaning:"Knot",emoji:"üéÄ"},{sentence:"The bow of the ship",meaning:"Front part",emoji:"üö¢"},{sentence:"Bow to the audience",meaning:"To bend",emoji:"üé≠"}],shifts:["Object ‚Üí Spatial","Spatial ‚Üí Gesture"]},
            {word:"can",titleEmoji:"ü•´",contexts:[{sentence:"Open a can of beans",meaning:"Container",emoji:"ü•´"},{sentence:"I can swim well",meaning:"To be able",emoji:"üèä"},{sentence:"The can was empty",meaning:"Metal container",emoji:"üóëÔ∏è"}],shifts:["Container ‚Üí Ability","Ability ‚Üí Object"]},
            {word:"change",titleEmoji:"üí∞",contexts:[{sentence:"Keep the change",meaning:"Money back",emoji:"üí∞"},{sentence:"Change your clothes",meaning:"To alter",emoji:"üëï"},{sentence:"The weather will change",meaning:"To become different",emoji:"üå§Ô∏è"}],shifts:["Money ‚Üí Action","Action ‚Üí Natural"]},
            // Words 51-75
            {word:"draft",titleEmoji:"üìù",contexts:[{sentence:"Write a first draft",meaning:"Rough version",emoji:"üìù"},{sentence:"Feel the draft from the window",meaning:"Air current",emoji:"üí®"},{sentence:"He was drafted into the army",meaning:"Selected",emoji:"üéñÔ∏è"}],shifts:["Document ‚Üí Natural","Natural ‚Üí Military"]},
            {word:"file",titleEmoji:"üìÅ",contexts:[{sentence:"Save the file on your computer",meaning:"Digital document",emoji:"üíæ"},{sentence:"Use a file to smooth the metal",meaning:"Tool",emoji:"üîß"},{sentence:"The soldiers marched in single file",meaning:"Line",emoji:"üë•"}],shifts:["Digital ‚Üí Tool","Tool ‚Üí Formation"]},
            {word:"fly",titleEmoji:"ü™∞",contexts:[{sentence:"A fly landed on the food",meaning:"Insect",emoji:"ü™∞"},{sentence:"Birds can fly high",meaning:"To move through air",emoji:"üê¶"},{sentence:"The flag will fly tomorrow",meaning:"To display",emoji:"üè≥Ô∏è"}],shifts:["Animal ‚Üí Motion","Motion ‚Üí Display"]},
            {word:"ground",titleEmoji:"üåç",contexts:[{sentence:"The ground was wet",meaning:"Earth surface",emoji:"üåç"},{sentence:"Grind the coffee beans",meaning:"To crush",emoji:"‚òï"},{sentence:"The plane was grounded",meaning:"Prevented from flying",emoji:"‚úàÔ∏è"}],shifts:["Surface ‚Üí Action","Action ‚Üí Restriction"]},
            {word:"hand",titleEmoji:"‚úã",contexts:[{sentence:"She raised her hand",meaning:"Body part",emoji:"‚úã"},{sentence:"Give me a hand with this",meaning:"Help",emoji:"ü§ù"},{sentence:"The clock hands point to noon",meaning:"Pointer",emoji:"üïê"}],shifts:["Body ‚Üí Assistance","Assistance ‚Üí Object"]},
            {word:"iron",titleEmoji:"‚öôÔ∏è",contexts:[{sentence:"The iron was hot",meaning:"Metal",emoji:"‚öôÔ∏è"},{sentence:"Iron your shirt",meaning:"To press",emoji:"üëî"},{sentence:"She has an iron will",meaning:"Strong",emoji:"üí™"}],shifts:["Material ‚Üí Action","Action ‚Üí Quality"]},
            {word:"jam",titleEmoji:"üçá",contexts:[{sentence:"Spread jam on the bread",meaning:"Fruit preserve",emoji:"üçá"},{sentence:"We got stuck in a traffic jam",meaning:"Congestion",emoji:"üöó"},{sentence:"The musicians will jam tonight",meaning:"To play music",emoji:"üéµ"}],shifts:["Food ‚Üí Traffic","Traffic ‚Üí Music"]},
            {word:"lead",titleEmoji:"‚ö°",contexts:[{sentence:"Lead the way",meaning:"To guide",emoji:"üë•"},{sentence:"The pencil has a lead tip",meaning:"Graphite",emoji:"‚úèÔ∏è"},{sentence:"Lead is a heavy metal",meaning:"Chemical element",emoji:"‚öóÔ∏è"}],shifts:["Action ‚Üí Material","Material ‚Üí Science"]},
            {word:"mine",titleEmoji:"‚õèÔ∏è",contexts:[{sentence:"This book is mine",meaning:"Belongs to me",emoji:"üìö"},{sentence:"They work in a coal mine",meaning:"Underground excavation",emoji:"‚õèÔ∏è"},{sentence:"The soldier stepped on a mine",meaning:"Explosive device",emoji:"üí•"}],shifts:["Possession ‚Üí Place","Place ‚Üí Weapon"]},
            {word:"nail",titleEmoji:"üî®",contexts:[{sentence:"Hammer the nail into wood",meaning:"Metal fastener",emoji:"üî®"},{sentence:"Trim your fingernails",meaning:"Hard covering",emoji:"üíÖ"},{sentence:"She nailed the performance",meaning:"To succeed",emoji:"üé≠"}],shifts:["Object ‚Üí Body","Body ‚Üí Achievement"]},
            {word:"orange",titleEmoji:"üçä",contexts:[{sentence:"Eat an orange",meaning:"Citrus fruit",emoji:"üçä"},{sentence:"The sunset was orange",meaning:"Color",emoji:"üåÖ"},{sentence:"Orange juice is healthy",meaning:"Beverage",emoji:"ü•§"}],shifts:["Fruit ‚Üí Color","Color ‚Üí Drink"]},
            {word:"park",titleEmoji:"üå≥",contexts:[{sentence:"Walk in the park",meaning:"Public space",emoji:"üå≥"},{sentence:"Park the car here",meaning:"To place vehicle",emoji:"üöó"},{sentence:"The national park is huge",meaning:"Protected area",emoji:"üèûÔ∏è"}],shifts:["Space ‚Üí Action","Action ‚Üí Conservation"]},
            {word:"plant",titleEmoji:"üå±",contexts:[{sentence:"Water the plant",meaning:"Living organism",emoji:"üå±"},{sentence:"Plant a tree",meaning:"To put in ground",emoji:"üå≥"},{sentence:"The factory plant was large",meaning:"Industrial facility",emoji:"üè≠"}],shifts:["Organism ‚Üí Action","Action ‚Üí Industry"]},
            {word:"play",titleEmoji:"üéÆ",contexts:[{sentence:"Children love to play",meaning:"To have fun",emoji:"üéÆ"},{sentence:"Watch the play tonight",meaning:"Theatrical performance",emoji:"üé≠"},{sentence:"Play the piano",meaning:"To make music",emoji:"üéπ"}],shifts:["Activity ‚Üí Entertainment","Entertainment ‚Üí Music"]},
            {word:"pool",titleEmoji:"üèä",contexts:[{sentence:"Swim in the pool",meaning:"Water container",emoji:"üèä"},{sentence:"Pool your money together",meaning:"To combine",emoji:"üí∞"},{sentence:"The pool of candidates was small",meaning:"Group",emoji:"üë•"}],shifts:["Container ‚Üí Action","Action ‚Üí Collection"]},
            {word:"race",titleEmoji:"üèÉ",contexts:[{sentence:"Run in the race",meaning:"Competition",emoji:"üèÉ"},{sentence:"The human race",meaning:"Species",emoji:"üë•"},{sentence:"Race to the finish",meaning:"To compete",emoji:"üèÅ"}],shifts:["Competition ‚Üí Biology","Biology ‚Üí Action"]},
            {word:"rest",titleEmoji:"üò¥",contexts:[{sentence:"Take a rest",meaning:"To relax",emoji:"üò¥"},{sentence:"The rest of the money",meaning:"Remaining part",emoji:"üí∞"},{sentence:"Rest your head on the pillow",meaning:"To place",emoji:"üõèÔ∏è"}],shifts:["Activity ‚Üí Quantity","Quantity ‚Üí Action"]},
            {word:"row",titleEmoji:"üö£",contexts:[{sentence:"Row the boat",meaning:"To paddle",emoji:"üö£"},{sentence:"Sit in the front row",meaning:"Line",emoji:"ü™ë"},{sentence:"They had a big row",meaning:"Argument",emoji:"üò†"}],shifts:["Action ‚Üí Arrangement","Arrangement ‚Üí Conflict"]},
            {word:"saw",titleEmoji:"üî®",contexts:[{sentence:"Use a saw to cut wood",meaning:"Cutting tool",emoji:"üî®"},{sentence:"I saw the movie",meaning:"Past tense of see",emoji:"üëÄ"},{sentence:"The old saw about patience",meaning:"Saying",emoji:"üí≠"}],shifts:["Tool ‚Üí Perception","Perception ‚Üí Wisdom"]},
            {word:"second",titleEmoji:"‚è±Ô∏è",contexts:[{sentence:"Wait a second",meaning:"Unit of time",emoji:"‚è±Ô∏è"},{sentence:"She came in second place",meaning:"Position",emoji:"ü•à"},{sentence:"Second the motion",meaning:"To support",emoji:"üëç"}],shifts:["Time ‚Üí Position","Position ‚Üí Support"]},
            {word:"shower",titleEmoji:"üöø",contexts:[{sentence:"Take a shower",meaning:"Bath",emoji:"üöø"},{sentence:"A shower of rain",meaning:"Brief fall",emoji:"üåßÔ∏è"},{sentence:"A shower of gifts",meaning:"Abundance",emoji:"üéÅ"}],shifts:["Hygiene ‚Üí Weather","Weather ‚Üí Abundance"]},
            {word:"space",titleEmoji:"üöÄ",contexts:[{sentence:"Travel to space",meaning:"Outer area",emoji:"üöÄ"},{sentence:"Leave space between words",meaning:"Gap",emoji:"üìù"},{sentence:"The space in the room",meaning:"Area",emoji:"üè†"}],shifts:["Cosmic ‚Üí Typography","Typography ‚Üí Physical"]},
            {word:"star",titleEmoji:"‚≠ê",contexts:[{sentence:"Look at the stars",meaning:"Celestial body",emoji:"‚≠ê"},{sentence:"She's a movie star",meaning:"Famous person",emoji:"üé¨"},{sentence:"Star in the show",meaning:"To perform",emoji:"üé≠"}],shifts:["Astronomy ‚Üí Fame","Fame ‚Üí Performance"]},
            {word:"step",titleEmoji:"üë£",contexts:[{sentence:"Take a step forward",meaning:"Foot movement",emoji:"üë£"},{sentence:"Follow each step",meaning:"Instruction",emoji:"üìã"},{sentence:"Step on the brake",meaning:"To press",emoji:"üöó"}],shifts:["Movement ‚Üí Instruction","Instruction ‚Üí Action"]}
        ];

        var currentIndex = 0;
        var isAnimating = false;
        var currentWord = polysemousWords[currentIndex];
        var pulseTimer = null;
        var waitTimer = null;
        var autoAdvanceTimer = null;

        // Cancellation tokens to prevent overlapping animations
        var currentSequenceToken = 0; // Increments each time a new word sequence starts
        var currentSentenceToken = 0; // Increments each time a new sentence reveal starts

        function updateProgress() {
            document.getElementById('progress').textContent = (currentIndex + 1) + ' of ' + polysemousWords.length;
        }

        function clearAllTimers() {
            if (pulseTimer) clearInterval(pulseTimer);
            if (waitTimer) clearTimeout(waitTimer);
            if (autoAdvanceTimer) clearTimeout(autoAdvanceTimer);
            pulseTimer = null;
            waitTimer = null;
            autoAdvanceTimer = null;
            document.getElementById('nextBtn').classList.remove('pulse-strong');
            document.getElementById('mainBtn').classList.remove('pulse-soft');
            document.getElementById('orText').classList.remove('show');
        }

        function wait(ms) {
            return new Promise(resolve => setTimeout(resolve, ms));
        }

        async function showCountdown() {
            var countdownEl = document.getElementById('countdownDisplay');
            countdownEl.classList.add('show');
            
            for (var i = 3; i >= 1; i--) {
                countdownEl.textContent = i;
                await wait(700);
            }
            
            countdownEl.classList.remove('show');
            await wait(200);
            countdownEl.textContent = '';
        }

        async function showWordTitle() {
            var titleEl = document.getElementById('wordTitle');
            var titleEmojiEl = document.getElementById('titleEmoji');
            
            // Show title first
            titleEl.textContent = currentWord.word.toUpperCase();
            titleEl.classList.add('show');
            
            await wait(1100);
            
            // Show emoji
            titleEmojiEl.textContent = currentWord.titleEmoji;
            titleEmojiEl.classList.add('show');
            
            await wait(1000);
        }

        // Basic normalization to match simple inflections (plural, past, ing)
        function normalizeForMatch(word) {
            var w = word.toLowerCase().replace(/[.,!?]/g, '');
            // Irregulars that appear in our dataset domain
            var irregular = { feet: 'foot', children: 'child', men: 'man', women: 'woman', mice: 'mouse', geese: 'goose' };
            if (irregular[w]) return irregular[w];
            if (w.endsWith("'s") || w.endsWith("‚Äôs")) w = w.slice(0, -2);
            // Verb forms
            if (w.endsWith('ing') && w.length > 4) return w.slice(0, -3);
            if (w.endsWith('ed') && w.length > 3) return w.slice(0, -2);
            // Plurals
            if (w.endsWith('es') && w.length > 3) {
                // glasses -> glass, charges -> charge (approximate)
                if (/(ch|sh|x|s|z|o)es$/.test(w)) return w.slice(0, -2);
                return w.slice(0, -1);
            }
            if (w.endsWith('s') && w.length > 2) return w.slice(0, -1);
            return w;
        }

        function findWordPositionInSentence(sentence, targetWord) {
            var lowerSentence = sentence.toLowerCase();
            var lowerTarget = targetWord.toLowerCase();
            var targetNorm = normalizeForMatch(lowerTarget);
            var words = lowerSentence.split(' ');
            
            var charPosition = 0;
            for (var i = 0; i < words.length; i++) {
                var raw = words[i];
                var cleanWord = raw.replace(/[.,!?]/g, '');
                var norm = normalizeForMatch(cleanWord);
                if (cleanWord === lowerTarget || norm === targetNorm) {
                    return { wordIndex: i, startChar: charPosition, endChar: charPosition + raw.length };
                }
                charPosition += raw.length + 1;
            }
            return { wordIndex: -1, startChar: -1, endChar: -1 };
        }

        function calculateSentenceRevealTime(sentence, keyWordStart, keyWordEnd) {
            var totalTime = 0;
            for (var i = 0; i < sentence.length; i++) {
                if (sentence[i] === ' ') {
                    totalTime += SPACE_SPEED;
                } else {
                    totalTime += CHARACTER_SPEED;
                }
                if (i === keyWordEnd - 1) {
                    totalTime += KEY_WORD_PAUSE;
                }
            }
            return totalTime;
        }

        function startEmojiTransition(emoji, duration) {
            var emojiEl = document.getElementById('emojiBg');
            emojiEl.textContent = emoji;
            emojiEl.style.transition = 'opacity ' + duration + 'ms linear';
            emojiEl.style.opacity = '0.12';
        }

        async function revealSentence(sentence, targetWord, meaningIndex) {
            console.log(`Revealing sentence: "${sentence}" for word: "${targetWord}"`);
            var container = document.getElementById('sentenceContainer');
            
            // CRITICAL: Clear container completely before adding new content
            container.innerHTML = '';
            
            // Capture token to cancel on navigation/next sequence
            const sentenceToken = ++currentSentenceToken;

            var wordPos = findWordPositionInSentence(sentence, targetWord);
            console.log('Word position found:', wordPos);
            var className = meaningIndex === 0 ? 'key-word' : (meaningIndex === 1 ? 'key-word-2' : 'key-word-3');
            
            var totalRevealTime = calculateSentenceRevealTime(sentence, wordPos.startChar, wordPos.endChar);
            startEmojiTransition(currentWord.contexts[meaningIndex].emoji, totalRevealTime);
            
            var charIndex = 0;
            for (var i = 0; i < sentence.length; i++) {
                // Check if animation should stop (user clicked next/prev)
                if (!isAnimating || sentenceToken !== currentSentenceToken) {
                    console.log('Animation stopped, breaking out of revealSentence');
                    return;
                }
                
                var char = sentence[i];
                var span = document.createElement('span');
                span.className = 'char';
                
                if (charIndex >= wordPos.startChar && charIndex < wordPos.endChar) {
                    span.classList.add(className);
                }
                
                span.textContent = char;
                container.appendChild(span);
                
                var delay = (char === ' ') ? SPACE_SPEED : CHARACTER_SPEED;
                await wait(delay);
                span.classList.add('show');
                
                if (charIndex === wordPos.endChar - 1) {
                    await wait(KEY_WORD_PAUSE);
                }
                
                charIndex++;
            }
        }

        function showMeaning(meaning, meaningIndex) {
            var meaningClass = 'meaning-' + (meaningIndex + 1);
            document.getElementById('meaningDisplay').innerHTML = 
                '<span class="' + meaningClass + '">' + meaning + '</span>';
            document.getElementById('infoSection').classList.add('show');
        }

        function showShift(shift) {
            document.getElementById('shiftInfo').textContent = shift;
        }

        async function fadeOutSentence() {
            var container = document.getElementById('sentenceContainer');
            container.classList.add('fading');
            await wait(CHARACTER_SPEED);
            // Ensure container maintains its space during transition
            container.style.minHeight = container.offsetHeight + 'px';
        }

        function startPulsePattern() {
            var mainBtn = document.getElementById('mainBtn');
            var nextBtn = document.getElementById('nextBtn');
            var orText = document.getElementById('orText');
            
            mainBtn.classList.add('pulse-soft');
            
            waitTimer = setTimeout(function() {
                mainBtn.classList.remove('pulse-soft');
                orText.classList.add('show');
                nextBtn.classList.add('pulse-strong');
                
                autoAdvanceTimer = setTimeout(function() {
                    autoAdvance();
                }, STATIC_WAIT);
            }, PULSE_DURATION);
        }

        async function transitionToWord(newIndex) {
            console.log('=== TRANSITION START ===');
            console.log('From word:', currentWord ? currentWord.word : 'undefined', 'To index:', newIndex);
            
            // STEP 1: STOP animation immediately
            clearAllTimers();
            isAnimating = false;
            // Invalidate any ongoing sequences/sentences
            currentSequenceToken++;
            currentSentenceToken++;
            
            // STEP 2: Update word data
            currentIndex = newIndex;
            currentWord = polysemousWords[currentIndex];
            console.log('New word:', currentWord.word);
            
            // STEP 3: Get all DOM elements
            var quoteBox = document.getElementById('quoteBox');
            var emojiEl = document.getElementById('emojiBg');
            var titleEmojiEl = document.getElementById('titleEmoji');
            var titleEl = document.getElementById('wordTitle');
            var sentenceContainer = document.getElementById('sentenceContainer');
            var infoSection = document.getElementById('infoSection');
            var mainBtn = document.getElementById('mainBtn');
            
            // STEP 4: DIM and CLEAR everything
            quoteBox.classList.add('fade-out');
            emojiEl.style.transition = 'opacity ' + FADE_OUT_DURATION + 'ms ease';
            emojiEl.style.opacity = '0';
            
            await wait(FADE_OUT_DURATION);
            
            // STEP 5: CLEAR the display array completely
            sentenceContainer.innerHTML = '';
            sentenceContainer.classList.remove('fading');
            sentenceContainer.style.minHeight = '';
            infoSection.classList.remove('show');
            titleEl.classList.remove('show');
            titleEl.textContent = '';
            titleEmojiEl.classList.remove('show');
            titleEmojiEl.textContent = '';
            emojiEl.style.opacity = '0';
            emojiEl.style.transition = 'opacity 0ms linear';
            emojiEl.textContent = '';
            
            // STEP 6: Update progress
            updateProgress();
            
            // STEP 7: Fade in container
            quoteBox.classList.remove('fade-out');
            quoteBox.classList.add('fade-in');
            await wait(300);
            
            // STEP 8: Start proper sequence
            await runWordSequence();
        }

        async function autoAdvance() {
            var nextIndex = (currentIndex + 1) % polysemousWords.length;
            await transitionToWord(nextIndex);
        }

        // UNIFIED SEQUENCE: Title ‚Üí Emoji ‚Üí Emoji disappears ‚Üí Sentence 1+emoji ‚Üí Sentence 2+emoji ‚Üí Sentence 3+emoji ‚Üí Highlight controls
        async function runWordSequence() {
            console.log('=== SEQUENCE START for word:', currentWord.word, '===');
            isAnimating = true;
            const sequenceToken = ++currentSequenceToken; // bump token for this run
            
            var titleEl = document.getElementById('wordTitle');
            var titleEmojiEl = document.getElementById('titleEmoji');
            var mainBtn = document.getElementById('mainBtn');
            
            // SEQUENCE STEP 1: Show Title
            console.log('STEP 1: Showing title');
            titleEl.textContent = currentWord.word.toUpperCase();
            titleEl.classList.add('show');
            mainBtn.disabled = true;
            mainBtn.textContent = 'Reflecting...';
            await wait(1000);
            
            // SEQUENCE STEP 2: Show Emoji
            console.log('STEP 2: Showing title emoji');
            titleEmojiEl.textContent = currentWord.titleEmoji;
            titleEmojiEl.classList.add('show');
            await wait(1000);
            
            // SEQUENCE STEP 3: Emoji disappears (background emoji cleared)
            console.log('STEP 3: Clearing background emoji');
            var emojiEl = document.getElementById('emojiBg');
            emojiEl.style.opacity = '0';
            
            // SEQUENCE STEPS 4-6: Show each sentence with its emoji
            for (var i = 0; i < currentWord.contexts.length; i++) {
                if (!isAnimating || sequenceToken !== currentSequenceToken) {
                    console.log('Sequence interrupted at context', i);
                    break;
                }
                
                var context = currentWord.contexts[i];
                console.log(`STEP ${4 + i}: Showing sentence ${i + 1}:`, context.sentence);
                
                // Clear previous sentence if needed
                if (i > 0) {
                    await fadeOutSentence();
                    var sentenceContainer = document.getElementById('sentenceContainer');
                    sentenceContainer.innerHTML = '';
                    sentenceContainer.classList.remove('fading');
                    sentenceContainer.style.minHeight = '';
                    document.getElementById('infoSection').classList.remove('show');
                }
                
                // Reveal sentence with emoji
                await revealSentence(context.sentence, currentWord.word, i);
                
                if (!isAnimating || sequenceToken !== currentSequenceToken) break;
                
                await wait(SENTENCE_PAUSE);
                
                // Show meaning and shift
                showMeaning(context.meaning, i);
                if (i > 0) {
                    showShift(currentWord.shifts[i - 1]);
                }
                
                mainBtn.textContent = 'Meaning ' + (i + 1);
                await wait(MEANING_PAUSE);
            }

            // SEQUENCE STEP 7: Highlight control buttons
            if (isAnimating && sequenceToken === currentSequenceToken) {
                console.log('STEP 7: Highlighting controls');
            mainBtn.textContent = 'Play Again';
            mainBtn.disabled = false;
            isAnimating = false;
            
            startPulsePattern();
            }
            
            console.log('=== SEQUENCE END ===');
        }

        async function startAnimation() {
            // Deprecated - use runWordSequence instead
            await runWordSequence();
        }

        async function nextWord() {
            // Allow navigation during animation - stop current animation and move to next
            var nextIndex = (currentIndex + 1) % polysemousWords.length;
            await transitionToWord(nextIndex);
        }

        async function previousWord() {
            // Allow navigation during animation - stop current animation and move to previous
            var prevIndex = (currentIndex - 1 + polysemousWords.length) % polysemousWords.length;
            await transitionToWord(prevIndex);
        }

        function openHelpModal() {
            document.getElementById('helpModal').classList.add('show');
            document.body.style.overflow = 'hidden';
        }

        function closeHelpModal() {
            document.getElementById('helpModal').classList.remove('show');
            document.body.style.overflow = 'auto';
        }

        document.getElementById('helpModal').addEventListener('click', function(e) {
            if (e.target === this) closeHelpModal();
        });

        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape' && document.getElementById('helpModal').classList.contains('show')) {
                closeHelpModal();
            }
        });

        document.getElementById('mainBtn').addEventListener('click', async function() {
            if (this.textContent === 'Play Again') {
                clearAllTimers();
                isAnimating = false;
                currentSequenceToken++;
                currentSentenceToken++;
                
                // Clear display
                document.getElementById('sentenceContainer').innerHTML = '';
                document.getElementById('infoSection').classList.remove('show');
                document.getElementById('wordTitle').classList.remove('show');
                document.getElementById('titleEmoji').classList.remove('show');
                
                await wait(70);
                
                // Run the unified sequence
                await runWordSequence();
            }
        });

        // Validate all word data
        function validateWordData() {
            console.log('Validating word data...');
            for (let i = 0; i < polysemousWords.length; i++) {
                const word = polysemousWords[i];
                console.log(`Word ${i + 1}: ${word.word}`);
                
                if (!word.word || !word.titleEmoji) {
                    console.error(`Missing word or titleEmoji for index ${i}`);
                }
                
                if (!word.contexts || word.contexts.length !== 3) {
                    console.error(`Invalid contexts for word ${word.word}: expected 3, got ${word.contexts ? word.contexts.length : 0}`);
                } else {
                    word.contexts.forEach((context, j) => {
                        if (!context.sentence || !context.meaning || !context.emoji) {
                            console.error(`Missing data in context ${j + 1} for word ${word.word}:`, context);
                        }
                    });
                }
                
                if (!word.shifts || word.shifts.length !== 2) {
                    console.error(`Invalid shifts for word ${word.word}: expected 2, got ${word.shifts ? word.shifts.length : 0}`);
                }
            }
            console.log('Validation complete.');
        }
        
        validateWordData();
        updateProgress();
        
        (async function() {
            await showCountdown();
            // Run the unified sequence (which includes showing title and emoji)
            await runWordSequence();
        })();
    </script>
</body>
</html>