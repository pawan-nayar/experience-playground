<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Scalable Responsive Color Table</title>
    <!-- Tailwind CSS for modern styling -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Highlight.js for Syntax Highlighting -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/atom-one-dark.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    <style>
        /* Custom styles for enhancements */
        html {
            scroll-behavior: smooth;
        }
        body {
            font-family: 'Inter', sans-serif;
        }

        /* Style for the selected table cell */
        .selected-cell {
            outline: 3px solid #3b82f6; /* A solid blue outline */
            outline-offset: -3px;
            z-index: 10;
        }

        /* Component preview styles */
        #component-preview {
            transition: background-color 0.3s ease, color 0.3s ease;
        }

        #component-preview input[type="text"],
        #component-preview textarea,
        #component-preview select {
            width: 100%;
            padding: 0.6rem;
            border-radius: 6px;
            border: 1px solid currentColor;
            background: transparent;
            color: inherit;
        }

        #component-preview input::placeholder,
        #component-preview textarea::placeholder {
            color: currentColor;
            opacity: 0.7;
        }

        #component-preview textarea { resize: vertical; min-height: 80px; }
        #component-preview .form-group { display: flex; flex-direction: column; gap: 0.5rem; }
        #component-preview label { font-size: 0.875rem; display: flex; align-items: center; gap: 0.5rem; }
        #component-preview .switch { position: relative; display: inline-block; width: 44px; height: 24px; }
        #component-preview .switch input { display: none; }

        #component-preview .slider-toggle {
            position: absolute;
            cursor: pointer;
            inset: 0;
            background-color: rgba(255, 255, 255, 0.2);
            border: 1px solid;
            border-radius: 24px;
            transition: .4s;
        }

        #component-preview .slider-toggle:before {
            position: absolute;
            content: "";
            height: 18px;
            width: 18px;
            left: 3px;
            bottom: 3px;
            background: white;
            border-radius: 50%;
            transition: .4s;
        }

        #component-preview input:checked + .slider-toggle { background-color: currentColor; }
        #component-preview input:checked + .slider-toggle:before { transform: translateX(20px); }

        #component-preview .buttons { display: flex; gap: 0.75rem; }
        #component-preview .buttons button { flex: 1; padding: 0.6rem; border: 1px solid currentColor; border-radius: 6px; cursor: pointer; background: transparent; color: inherit; font-weight: 500; }
        #component-preview .buttons button.primary { background: currentColor; color: var(--bg-color); }
        #component-preview .badge { display: inline-block; padding: 0.25rem 0.75rem; border-radius: 9999px; font-size: 0.75rem; background: rgba(255, 255, 255, 0.2); border: 1px solid rgba(255,255,255,0.3); }

        /* Modal Styles */
        .modal {
            visibility: hidden;
            opacity: 0;
            transition: visibility 0s 0.2s, opacity 0.2s ease-in-out;
        }
        .modal.active {
            visibility: visible;
            opacity: 1;
            transition: visibility 0s, opacity 0.2s ease-in-out;
        }
        .modal-content {
            transform: scale(0.95);
            transition: transform 0.2s ease-in-out;
        }
        .modal.active .modal-content {
            transform: scale(1);
        }
        #css-code-container pre {
             background-color: #282c34; /* atom-one-dark background */
        }
        
        /* Responsive Table for mobile */
        @media (max-width: 768px) {
            .responsive-table thead {
                display: none;
            }
            .responsive-table tr {
                display: block;
                margin-bottom: 1rem;
                border-radius: 0.5rem;
                overflow: hidden;
                box-shadow: 0 1px 3px rgba(0,0,0,0.1);
                border: 1px solid #e5e7eb;
            }
            .responsive-table td {
                display: flex;
                justify-content: space-between;
                align-items: center;
                text-align: right;
                padding: 0.75rem 1rem;
                white-space: normal;
                border-bottom: 1px solid #e5e7eb;
            }
            .responsive-table td:last-child {
                border-bottom: none;
            }
            .responsive-table td::before {
                content: attr(data-label);
                font-weight: 600;
                color: #111827;
            }
             .responsive-table td:first-child {
                justify-content: center;
                background-color: #f9fafb;
                font-weight: 600;
                font-size: 1.125rem;
            }
             .responsive-table td:first-child::before {
                 display: none;
            }
        }
        
        /* Sticky columns for desktop */
        @media (min-width: 769px) {
            .responsive-table th,
            .responsive-table td {
                white-space: nowrap; /* Prevent content from wrapping to ensure alignment */
            }

            .responsive-table th:nth-child(1),
            .responsive-table td:nth-child(1),
            .responsive-table th:nth-child(2),
            .responsive-table td:nth-child(2) {
                position: -webkit-sticky;
                position: sticky;
                z-index: 2;
            }

            .responsive-table th:nth-child(1),
            .responsive-table td:nth-child(1) {
                left: 0;
            }
            
            /* Ensure sticky headers have a solid background */
            .responsive-table thead th {
                 background-color: #f3f4f6; /* Tailwind's bg-gray-100 */
            }
        }
    </style>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
</head>
<body class="bg-gray-50 text-gray-800 antialiased">

    <div class="w-full p-4 md:p-8">
        <header class="text-center mb-8 relative">
            <h1 class="text-3xl md:text-4xl font-bold text-gray-900">Scalable Responsive Color Table</h1>
            <p class="mt-2 text-lg text-gray-600">Click any color cell to preview the UI components with that scheme.</p>
            <button id="help-button" class="absolute top-0 right-0 p-2 text-gray-500 hover:text-blue-600 transition">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                </svg>
            </button>
        </header>

        <main class="md:grid md:grid-cols-2 md:gap-8 lg:grid-cols-5">
            <div id="left-pane" class="rounded-lg shadow-md border border-gray-200 lg:col-span-3">
                <div class="overflow-x-auto">
                    <table class="w-full text-sm text-left text-gray-500 responsive-table">
                        <thead class="text-xs text-gray-700 uppercase bg-gray-100">
                            <tr id="table-header-row">
                                <th scope="col" class="px-4 py-3">Name</th>
                                <th scope="col" class="px-4 py-3">Base</th>
                                <!-- Foreground headers will be dynamically inserted here -->
                            </tr>
                        </thead>
                        <tbody id="color-table-body">
                            <!-- Rows will be dynamically inserted here -->
                        </tbody>
                    </table>
                </div>
                 <div id="loader" class="text-center py-8">
                    <p class="text-gray-500">Loading colors...</p>
                </div>
            </div>
            <div id="right-pane" class="mt-8 md:mt-0 lg:col-span-2">
                <div id="component-preview" class="p-5 rounded-lg shadow-md border border-gray-200 bg-white sticky top-8">
                     <div class="text-center text-gray-500 h-96 flex items-center justify-center">
                        <p>Click on a color cell to the left to preview its UI components.</p>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Help Modal -->
    <div id="help-modal" class="modal fixed inset-0 z-50 flex items-center justify-center p-4">
        <div class="modal-overlay fixed inset-0 bg-black bg-opacity-50"></div>
        <div class="modal-content bg-white rounded-lg shadow-xl w-full max-w-lg mx-auto z-10 max-h-[90vh] overflow-y-auto">
            <div class="flex justify-between items-center p-4 border-b">
                <h3 class="text-xl font-semibold">How to Use This Tool</h3>
                <button class="modal-close p-1">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" /></svg>
                </button>
            </div>
            <div class="p-6 space-y-4">
                <p><strong>1. Select a Color Scheme:</strong> Click on any colored cell in the table on the left. The 'Base' cells determine the background color, while the 'Foreground' cells determine the text and UI element color.</p>
                <p><strong>2. Preview UI Components:</strong> Once a cell is selected, the pane on the right will instantly update to show a preview of common UI components using your chosen background and foreground colors.</p>
                <p><strong>3. Check Contrast Ratio:</strong> Each cell displays a Contrast Ratio (CR) to help you choose accessible color combinations that are easy to read. Higher numbers are better!</p>
                <p><strong>4. Export Your Colors:</strong> When you find a combination you like, click the "Export CSS" button in the preview pane. This will give you a full stylesheet to use directly in your projects.</p>
            </div>
        </div>
    </div>

    <!-- CSS Export Modal -->
    <div id="export-modal" class="modal fixed inset-0 z-50 flex items-center justify-center p-4">
        <div class="modal-overlay fixed inset-0 bg-black bg-opacity-50"></div>
        <div class="modal-content bg-white rounded-lg shadow-xl w-full max-w-md mx-auto z-10 max-h-[90vh] flex flex-col">
            <div class="flex justify-between items-center p-4 border-b">
                <h3 class="text-xl font-semibold">Export Full CSS</h3>
                <button class="modal-close p-1">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" /></svg>
                </button>
            </div>
            <div id="css-code-container" class="p-6 flex-grow overflow-y-auto">
                <p class="mb-2 text-sm text-gray-600">Copy this stylesheet to use the selected color scheme.</p>
                <pre class="rounded-md overflow-x-auto h-full text-sm"><code id="css-code" class="language-css"></code></pre>
            </div>
            <div class="flex justify-end p-4 bg-gray-50 border-t rounded-b-lg">
                <button id="copy-css-button" class="bg-blue-600 text-white font-semibold px-4 py-2 rounded-md hover:bg-blue-700 transition">Copy to Clipboard</button>
            </div>
        </div>
    </div>


    <script>
    document.addEventListener('DOMContentLoaded', () => {
        // --- DATA ---
        const colorData = [
            // Reds
            { name: 'Red', base: '#fee2e2', fg: ['#1f2937', '#ef4444', '#f97316', '#84cc16', '#22c55e', '#14b8a6', '#0ea5e9', '#6366f1', '#a855f7', '#ec4899'] },
            { name: 'Red', base: '#fecaca', fg: ['#1f2937', '#dc2626', '#f59e0b', '#65a30d', '#16a34a', '#0d9488', '#0284c7', '#4f46e5', '#9333ea', '#db2777'] },
            { name: 'Red', base: '#fca5a5', fg: ['#1f2937', '#b91c1c', '#d97706', '#4d7c0f', '#15803d', '#0f766e', '#0369a1', '#4338ca', '#7e22ce', '#be185d'] },
            { name: 'Red', base: '#f87171', fg: ['#ffffff', '#991b1b', '#b45309', '#3f6212', '#166534', '#134e4a', '#075985', '#3730a3', '#6b21a8', '#9d174d'] },
            { name: 'Red', base: '#ef4444', fg: ['#ffffff', '#7f1d1d', '#92400e', '#365314', '#14532d', '#115e59', '#0c4a6e', '#312e81', '#581c87', '#831843'] },
            { name: 'Red', base: '#dc2626', fg: ['#ffffff', '#fee2e2', '#92400e', '#365314', '#14532d', '#115e59', '#0c4a6e', '#312e81', '#581c87', '#831843'] },
            { name: 'Red', base: '#b91c1c', fg: ['#ffffff', '#fecaca', '#78350f', '#365314', '#064e3b', '#134e4a', '#082f49', '#312e81', '#4c1d95', '#831843'] },
            { name: 'Red', base: '#991b1b', fg: ['#ffffff', '#fca5a5', '#78350f', '#eab308', '#065f46', '#115e59', '#082f49', '#3730a3', '#581c87', '#9d174d'] },
            // Oranges
            { name: 'Orange', base: '#fff7ed', fg: ['#1c1917', '#f97316', '#ef4444', '#84cc16', '#22c55e', '#14b8a6', '#0ea5e9', '#6366f1', '#a855f7', '#ec4899'] },
            { name: 'Orange', base: '#ffedd5', fg: ['#1c1917', '#ea580c', '#dc2626', '#65a30d', '#16a34a', '#0d9488', '#0284c7', '#4f46e5', '#9333ea', '#db2777'] },
            { name: 'Orange', base: '#fed7aa', fg: ['#1c1917', '#d97706', '#b91c1c', '#4d7c0f', '#15803d', '#0f766e', '#0369a1', '#4338ca', '#7e22ce', '#be185d'] },
            { name: 'Orange', base: '#fdba74', fg: ['#1c1917', '#c2410c', '#991b1b', '#3f6212', '#166534', '#134e4a', '#075985', '#3730a3', '#6b21a8', '#9d174d'] },
            { name: 'Orange', base: '#fb923c', fg: ['#ffffff', '#9a3412', '#7f1d1d', '#365314', '#14532d', '#115e59', '#0c4a6e', '#312e81', '#581c87', '#831843'] },
            { name: 'Orange', base: '#f97316', fg: ['#ffffff', '#7c2d12', '#fee2e2', '#365314', '#14532d', '#115e59', '#0c4a6e', '#312e81', '#581c87', '#831843'] },
            { name: 'Orange', base: '#ea580c', fg: ['#ffffff', '#ffedd5', '#7f1d1d', '#365314', '#064e3b', '#134e4a', '#082f49', '#312e81', '#4c1d95', '#831843'] },
            { name: 'Orange', base: '#c2410c', fg: ['#ffffff', '#fed7aa', '#991b1b', '#eab308', '#065f46', '#115e59', '#082f49', '#3730a3', '#581c87', '#9d174d'] },
            // Greens
            { name: 'Green', base: '#f0fdf4', fg: ['#1a2e05', '#22c55e', '#ef4444', '#f97316', '#84cc16', '#14b8a6', '#0ea5e9', '#6366f1', '#a855f7', '#ec4899'] },
            { name: 'Green', base: '#dcfce7', fg: ['#1a2e05', '#16a34a', '#dc2626', '#ea580c', '#65a30d', '#0d9488', '#0284c7', '#4f46e5', '#9333ea', '#db2777'] },
            { name: 'Green', base: '#bbf7d0', fg: ['#1a2e05', '#15803d', '#b91c1c', '#d97706', '#4d7c0f', '#0f766e', '#0369a1', '#4338ca', '#7e22ce', '#be185d'] },
            { name: 'Green', base: '#86efac', fg: ['#1a2e05', '#166534', '#991b1b', '#c2410c', '#3f6212', '#134e4a', '#075985', '#3730a3', '#6b21a8', '#9d174d'] },
            { name: 'Green', base: '#4ade80', fg: ['#1a2e05', '#14532d', '#7f1d1d', '#9a3412', '#365314', '#115e59', '#0c4a6e', '#312e81', '#581c87', '#831843'] },
            { name: 'Green', base: '#22c55e', fg: ['#ffffff', '#14532d', '#7f1d1d', '#7c2d12', '#365314', '#115e59', '#0c4a6e', '#312e81', '#581c87', '#831843'] },
            { name: 'Green', base: '#16a34a', fg: ['#ffffff', '#dcfce7', '#7f1d1d', '#7c2d12', '#365314', '#134e4a', '#082f49', '#312e81', '#4c1d95', '#831843'] },
            { name: 'Green', base: '#15803d', fg: ['#ffffff', '#bbf7d0', '#991b1b', '#9a3412', '#eab308', '#115e59', '#082f49', '#3730a3', '#581c87', '#9d174d'] },
            // Blues
            { name: 'Blue', base: '#eff6ff', fg: ['#1e293b', '#3b82f6', '#ef4444', '#f97316', '#84cc16', '#22c55e', '#14b8a6', '#6366f1', '#a855f7', '#ec4899'] },
            { name: 'Blue', base: '#dbeafe', fg: ['#1e293b', '#2563eb', '#dc2626', '#ea580c', '#65a30d', '#16a34a', '#0d9488', '#4f46e5', '#9333ea', '#db2777'] },
            { name: 'Blue', base: '#bfdbfe', fg: ['#1e293b', '#1d4ed8', '#b91c1c', '#d97706', '#4d7c0f', '#15803d', '#0f766e', '#4338ca', '#7e22ce', '#be185d'] },
            { name: 'Blue', base: '#93c5fd', fg: ['#1e293b', '#1e40af', '#991b1b', '#c2410c', '#3f6212', '#166534', '#134e4a', '#3730a3', '#6b21a8', '#9d174d'] },
            { name: 'Blue', base: '#60a5fa', fg: ['#ffffff', '#1e3a8a', '#7f1d1d', '#9a3412', '#365314', '#14532d', '#115e59', '#312e81', '#581c87', '#831843'] },
            { name: 'Blue', base: '#3b82f6', fg: ['#ffffff', '#1e3a8a', '#7f1d1d', '#7c2d12', '#365314', '#14532d', '#115e59', '#312e81', '#581c87', '#831843'] },
            { name: 'Blue', base: '#2563eb', fg: ['#ffffff', '#dbeafe', '#7f1d1d', '#7c2d12', '#365314', '#134e4a', '#082f49', '#312e81', '#4c1d95', '#831843'] },
            { name: 'Blue', base: '#1d4ed8', fg: ['#ffffff', '#bfdbfe', '#991b1b', '#9a3412', '#eab308', '#115e59', '#082f49', '#3730a3', '#581c87', '#9d174d'] },
            // Indigos
            { name: 'Indigo', base: '#eef2ff', fg: ['#1e1b4b', '#6366f1', '#ef4444', '#f97316', '#84cc16', '#22c55e', '#14b8a6', '#0ea5e9', '#a855f7', '#ec4899'] },
            { name: 'Indigo', base: '#e0e7ff', fg: ['#1e1b4b', '#4f46e5', '#dc2626', '#ea580c', '#65a30d', '#16a34a', '#0d9488', '#0284c7', '#9333ea', '#db2777'] },
            { name: 'Indigo', base: '#c7d2fe', fg: ['#1e1b4b', '#4338ca', '#b91c1c', '#d97706', '#4d7c0f', '#15803d', '#0f766e', '#0369a1', '#7e22ce', '#be185d'] },
            { name: 'Indigo', base: '#a5b4fc', fg: ['#1e1b4b', '#3730a3', '#991b1b', '#c2410c', '#3f6212', '#166534', '#134e4a', '#075985', '#6b21a8', '#9d174d'] },
            { name: 'Indigo', base: '#818cf8', fg: ['#ffffff', '#312e81', '#7f1d1d', '#9a3412', '#365314', '#14532d', '#115e59', '#0c4a6e', '#581c87', '#831843'] },
            { name: 'Indigo', base: '#6366f1', fg: ['#ffffff', '#312e81', '#7f1d1d', '#7c2d12', '#365314', '#14532d', '#115e59', '#0c4a6e', '#581c87', '#831843'] },
            { name: 'Indigo', base: '#4f46e5', fg: ['#ffffff', '#e0e7ff', '#7f1d1d', '#7c2d12', '#365314', '#134e4a', '#082f49', '#312e81', '#4c1d95', '#831843'] },
            { name: 'Indigo', base: '#4338ca', fg: ['#ffffff', '#c7d2fe', '#991b1b', '#9a3412', '#eab308', '#115e59', '#082f49', '#3730a3', '#581c87', '#9d174d'] },
            // Violets
            { name: 'Violet', base: '#f5f3ff', fg: ['#2e1065', '#8b5cf6', '#ef4444', '#f97316', '#84cc16', '#22c55e', '#14b8a6', '#0ea5e9', '#6366f1', '#ec4899'] },
            { name: 'Violet', base: '#ede9fe', fg: ['#2e1065', '#7c3aed', '#dc2626', '#ea580c', '#65a30d', '#16a34a', '#0d9488', '#0284c7', '#4f46e5', '#db2777'] },
            { name: 'Violet', base: '#ddd6fe', fg: ['#2e1065', '#6d28d9', '#b91c1c', '#d97706', '#4d7c0f', '#15803d', '#0f766e', '#0369a1', '#4338ca', '#be185d'] },
            { name: 'Violet', base: '#c4b5fd', fg: ['#2e1065', '#5b21b6', '#991b1b', '#c2410c', '#3f6212', '#166534', '#134e4a', '#075985', '#3730a3', '#9d174d'] },
            { name: 'Violet', base: '#a78bfa', fg: ['#ffffff', '#4c1d95', '#7f1d1d', '#9a3412', '#365314', '#14532d', '#115e59', '#0c4a6e', '#312e81', '#831843'] },
            { name: 'Violet', base: '#8b5cf6', fg: ['#ffffff', '#4c1d95', '#7f1d1d', '#7c2d12', '#365314', '#14532d', '#115e59', '#0c4a6e', '#312e81', '#831843'] },
            { name: 'Violet', base: '#7c3aed', fg: ['#ffffff', '#ede9fe', '#7f1d1d', '#7c2d12', '#365314', '#134e4a', '#082f49', '#312e81', '#4c1d95', '#831843'] },
            { name: 'Violet', base: '#6d28d9', fg: ['#ffffff', '#ddd6fe', '#991b1b', '#9a3412', '#eab308', '#115e59', '#082f49', '#3730a3', '#581c87', '#9d174d'] },
            // Pinks
            { name: 'Pink', base: '#fdf2f8', fg: ['#500724', '#ec4899', '#ef4444', '#f97316', '#84cc16', '#22c55e', '#14b8a6', '#0ea5e9', '#6366f1', '#a855f7'] },
            { name: 'Pink', base: '#fce7f3', fg: ['#500724', '#db2777', '#dc2626', '#ea580c', '#65a30d', '#16a34a', '#0d9488', '#0284c7', '#4f46e5', '#9333ea'] },
            { name: 'Pink', base: '#fbcfe8', fg: ['#500724', '#be185d', '#b91c1c', '#d97706', '#4d7c0f', '#15803d', '#0f766e', '#0369a1', '#4338ca', '#7e22ce'] },
            { name: 'Pink', base: '#f9a8d4', fg: ['#500724', '#9d174d', '#991b1b', '#c2410c', '#3f6212', '#166534', '#134e4a', '#075985', '#3730a3', '#6b21a8'] },
            { name: 'Pink', base: '#f472b6', fg: ['#ffffff', '#831843', '#7f1d1d', '#9a3412', '#365314', '#14532d', '#115e59', '#0c4a6e', '#312e81', '#581c87'] },
            { name: 'Pink', base: '#ec4899', fg: ['#ffffff', '#831843', '#7f1d1d', '#7c2d12', '#365314', '#14532d', '#115e59', '#0c4a6e', '#312e81', '#581c87'] },
            { name: 'Pink', base: '#db2777', fg: ['#ffffff', '#fce7f3', '#7f1d1d', '#7c2d12', '#365314', '#134e4a', '#082f49', '#312e81', '#4c1d95', '#831843'] },
            { name: 'Pink', base: '#be185d', fg: ['#ffffff', '#fbcfe8', '#991b1b', '#9a3412', '#eab308', '#115e59', '#082f49', '#3730a3', '#581c87', '#9d174d'] },
            // Yellows
            { name: 'Yellow', base: '#fefce8', fg: ['#3d3d00', '#eab308', '#ef4444', '#f97316', '#84cc16', '#22c55e', '#14b8a6', '#0ea5e9', '#6366f1', '#a855f7'] },
            { name: 'Yellow', base: '#fef9c3', fg: ['#3d3d00', '#ca8a04', '#dc2626', '#ea580c', '#65a30d', '#16a34a', '#0d9488', '#0284c7', '#4f46e5', '#9333ea'] },
            { name: 'Yellow', base: '#fef08a', fg: ['#3d3d00', '#a16207', '#b91c1c', '#d97706', '#4d7c0f', '#15803d', '#0f766e', '#0369a1', '#4338ca', '#7e22ce'] },
            { name: 'Yellow', base: '#fde047', fg: ['#3d3d00', '#854d0e', '#991b1b', '#c2410c', '#3f6212', '#166534', '#134e4a', '#075985', '#3730a3', '#6b21a8'] },
            { name: 'Yellow', base: '#facc15', fg: ['#3d3d00', '#713f12', '#7f1d1d', '#9a3412', '#365314', '#14532d', '#115e59', '#0c4a6e', '#312e81', '#581c87'] },
            { name: 'Yellow', base: '#eab308', fg: ['#ffffff', '#713f12', '#7f1d1d', '#7c2d12', '#365314', '#14532d', '#115e59', '#0c4a6e', '#312e81', '#581c87'] },
            { name: 'Yellow', base: '#ca8a04', fg: ['#ffffff', '#fef9c3', '#7f1d1d', '#7c2d12', '#365314', '#134e4a', '#082f49', '#312e81', '#4c1d95', '#831843'] },
            { name: 'Yellow', base: '#a16207', fg: ['#ffffff', '#fef08a', '#991b1b', '#9a3412', '#15803d', '#115e59', '#082f49', '#3730a3', '#581c87', '#9d174d'] },
        ];

        // --- DOM ELEMENTS & STATE ---
        const tableHeaderRow = document.getElementById('table-header-row');
        const tableBody = document.getElementById('color-table-body');
        const loader = document.getElementById('loader');
        const componentPreview = document.getElementById('component-preview');
        const helpModal = document.getElementById('help-modal');
        const exportModal = document.getElementById('export-modal');
        const helpButton = document.getElementById('help-button');
        const copyCssButton = document.getElementById('copy-css-button');
        const cssCodeEl = document.getElementById('css-code');
        
        let currentSelectedCell = null;
        let currentBg = null;
        let currentFg = null;

        // --- MODAL LOGIC ---
        function openModal(modal) {
            if (modal) modal.classList.add('active');
        }
        function closeModal(modal) {
            if (modal) modal.classList.remove('active');
        }
        
        helpButton.addEventListener('click', () => openModal(helpModal));
        
        document.querySelectorAll('.modal-overlay, .modal-close').forEach(el => {
            el.addEventListener('click', () => {
                closeModal(helpModal);
                closeModal(exportModal);
            });
        });

        // --- STICKY COLUMNS LOGIC ---
        function setStickyColumns() {
             if (window.innerWidth <= 768) {
                const secondColumnCells = document.querySelectorAll('.responsive-table th:nth-child(2), .responsive-table td:nth-child(2)');
                secondColumnCells.forEach(cell => cell.style.left = '');
                return;
            };
            const table = document.querySelector('.responsive-table');
            if (!table) return;
            const firstTh = table.querySelector('thead th:nth-child(1)');
            if (!firstTh) return;
            const firstColumnWidth = firstTh.offsetWidth;
            const secondColumnCells = table.querySelectorAll('th:nth-child(2), td:nth-child(2)');
            secondColumnCells.forEach(cell => cell.style.left = `${firstColumnWidth}px`);
        }

        // --- CORE LOGIC ---
        function getContrast(hex1, hex2) { const lum1 = getLuminance(hex1); const lum2 = getLuminance(hex2); return (Math.max(lum1, lum2) + 0.05) / (Math.min(lum1, lum2) + 0.05); }
        function getLuminance(hex) { const rgb = hex.match(/[A-Za-z0-9]{2}/g).map(v => parseInt(v, 16)); let [r, g, b] = rgb.map(c => { c /= 255; return c <= 0.03928 ? c / 12.92 : Math.pow((c + 0.055) / 1.055, 2.4); }); return 0.2126 * r + 0.7159 * g + 0.0722 * b; }
        
        function generateComponentCss(bgColor, fgColor) {
            const primaryButtonTextColor = getContrast(fgColor, bgColor) > 3 ? bgColor : (getContrast(fgColor, '#FFFFFF') > 3 ? '#FFFFFF' : '#000000');

            return `/* --- Root Color Variables --- */
:root {
  --background: ${bgColor};
  --foreground: ${fgColor};
  --primary-btn-text: ${primaryButtonTextColor};
}

/* --- General Container Style --- */
.themed-container {
  background-color: var(--background);
  color: var(--foreground);
  padding: 1rem;
  border-radius: 8px;
}

/* --- Form Input & Textarea --- */
.themed-container input[type="text"],
.themed-container textarea {
  width: 100%;
  padding: 0.6rem;
  border-radius: 6px;
  border: 1px solid var(--foreground);
  background-color: transparent;
  color: inherit;
}

.themed-container input[type="text"]::placeholder,
.themed-container textarea::placeholder {
  color: var(--foreground);
  opacity: 0.7;
}

/* --- Checkbox & Radio --- */
.themed-container label {
  font-size: 0.875rem;
  display: flex;
  align-items: center;
  gap: 0.5rem;
}

.themed-container input[type="checkbox"], 
.themed-container input[type="radio"] {
  accent-color: var(--foreground);
}

/* --- Buttons --- */
.themed-container .button-secondary {
  padding: 0.6rem 1rem;
  border: 1px solid var(--foreground);
  border-radius: 6px;
  cursor: pointer;
  background-color: transparent;
  color: var(--foreground);
  font-weight: 500;
  transition: background-color 0.2s;
}

.themed-container .button-secondary:hover {
  background-color: rgba(128, 128, 128, 0.1);
}

.themed-container .button-primary {
  padding: 0.6rem 1rem;
  border: 1px solid var(--foreground);
  border-radius: 6px;
  cursor: pointer;
  background-color: var(--foreground);
  color: var(--primary-btn-text);
  font-weight: 500;
  transition: opacity 0.2s;
}

.themed-container .button-primary:hover {
  opacity: 0.9;
}


/* --- Badge --- */
.themed-container .badge {
  display: inline-block;
  padding: 0.25rem 0.75rem;
  border-radius: 9999px;
  font-size: 0.75rem;
  background-color: rgba(0, 0, 0, 0.1);
  border: 1px solid rgba(0, 0, 0, 0.15);
}`;
        }

        function createPreviewHTML() {
            return `
                <div class="flex justify-between items-start mb-4">
                    <h4 class="text-lg font-semibold">UI Components Preview</h4>
                    <button id="export-css-button" class="bg-gray-200 text-gray-700 text-sm font-semibold px-3 py-1.5 rounded-md hover:bg-gray-300 transition">Export CSS</button>
                </div>
                <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
                    <div class="form-group"><input type="text" placeholder="Text field"></div>
                    <div class="form-group"><textarea placeholder="Textarea for comments"></textarea></div>
                    <div class="form-group">
                        <label><input type="checkbox" checked> Checkbox</label>
                        <label><input type="radio" name="r1"> Radio Button</label>
                    </div>
                    <div class="form-group"><label>Toggle Switch</label><label class="switch"><input type="checkbox" checked><span class="slider-toggle"></span></label></div>
                    <div class="form-group col-span-1 sm:col-span-2"><label>Range Slider</label><input type="range" min="0" max="100" value="50" class="w-full"></div>
                    <div class="buttons col-span-1 sm:col-span-2"><button class="primary">Primary</button><button>Secondary</button></div>
                    <div class="flex items-center"><span class="badge">Badge</span></div>
                </div>
            `;
        }
        
        function renderCell(cellBgColor, previewBgColor, previewFgColor, label) {
             const contrast = getContrast(previewBgColor, previewFgColor).toFixed(2);
             const cellTextColor = getContrast(cellBgColor, '#FFFFFF') > getContrast(cellBgColor, '#000000') ? '#FFFFFF' : '#000000';
            return `
                <td data-label="${label}" 
                    class="px-4 py-3 font-medium color-cell relative cursor-pointer" 
                    style="background-color: ${cellBgColor}; color: ${cellTextColor};"
                    data-preview-bg="${previewBgColor}"
                    data-preview-fg="${previewFgColor}">
                    <div class="flex flex-col items-center md:items-start pointer-events-none">
                        <span>${cellBgColor.toUpperCase()}</span>
                        <span class="text-xs opacity-70">CR: ${contrast}</span>
                    </div>
                </td>
            `;
        }
        
        function renderHeaders() {
            if (!tableHeaderRow || !colorData || colorData.length === 0) return;
            const fgCount = colorData[0].fg.length;
            let headerHTML = '';
            for (let i = 0; i < fgCount; i++) {
                headerHTML += `<th scope="col" class="px-4 py-3">Foreground ${i + 1}</th>`;
            }
            tableHeaderRow.innerHTML += headerHTML;
        }

        function renderTable() {
            if (!tableBody) return;
            let tableHTML = '';
            colorData.forEach((color, index) => {
                const bestContrastForBase = getContrast(color.base, '#FFFFFF') > getContrast(color.base, '#000000') ? '#FFFFFF' : '#000000';
                let fgCellsHTML = '';
                color.fg.forEach((fgColor, fgIndex) => {
                    fgCellsHTML += renderCell(fgColor, color.base, fgColor, `Foreground ${fgIndex + 1}`);
                });
                tableHTML += `
                    <tr class="bg-white border-b">
                        <td data-label="Name" class="px-4 py-3 font-semibold text-gray-900 bg-white">${color.name}-${index % 8 + 1}</td>
                        ${renderCell(color.base, color.base, bestContrastForBase, 'Base')}
                        ${fgCellsHTML}
                    </tr>
                `;
            });
            tableBody.innerHTML = tableHTML;
            loader.style.display = 'none';
            setStickyColumns();
        }

        // --- INITIALIZATION & EVENT LISTENERS ---
        renderHeaders();
        renderTable();
        window.addEventListener('resize', setStickyColumns);

        tableBody.addEventListener('click', (e) => {
            const cell = e.target.closest('.color-cell');
            if (!cell) return;

            if (currentSelectedCell) currentSelectedCell.classList.remove('selected-cell');
            cell.classList.add('selected-cell');
            currentSelectedCell = cell;

            currentBg = cell.dataset.previewBg;
            currentFg = cell.dataset.previewFg;

            componentPreview.innerHTML = createPreviewHTML();
            componentPreview.style.backgroundColor = currentBg;
            componentPreview.style.color = currentFg;
            componentPreview.style.setProperty('--bg-color', currentBg);

            if (window.innerWidth <= 768) {
                componentPreview.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
            }
        });

        // Event listener for the dynamically created export button
        componentPreview.addEventListener('click', e => {
            if (e.target && e.target.id === 'export-css-button') {
                if (currentBg && currentFg) {
                    const cssText = generateComponentCss(currentBg, currentFg);
                    cssCodeEl.textContent = cssText;
                    // Apply syntax highlighting
                    hljs.highlightElement(cssCodeEl);
                    openModal(exportModal);
                }
            }
        });

        copyCssButton.addEventListener('click', () => {
             const textarea = document.createElement('textarea');
            textarea.value = cssCodeEl.textContent;
            document.body.appendChild(textarea);
            textarea.select();
            try {
                document.execCommand('copy');
                copyCssButton.textContent = 'Copied!';
            } catch (err) {
                copyCssButton.textContent = 'Failed!';
                console.error('Fallback: Oops, unable to copy', err);
            }
            document.body.removeChild(textarea);

            setTimeout(() => {
                copyCssButton.textContent = 'Copy to Clipboard';
            }, 2000);
        });
    });
    </script>
</body>
</html>

