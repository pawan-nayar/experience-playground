<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Newton's Laws & Free-Body Calculator — Beyond Dictionary</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
<style>
  /* ================= Base / Theme ================= */
  :root{
    --text:#212529; --bg:#fff; --muted:#f8f9fa; --border:#e9ecef;
    --accent:#fd7e14; --accent-2:#e87312; --header-bg:#212529; --header-fg:#f8f9fa;
    --ok:#16a34a; --ok-soft:#dcfce7; --bad:#dc2626; --bad-soft:#fee2e2;
    --warning:#f59e0b; --warning-soft:#fef3c7;
    --blue:#2563eb; --blue-soft:#dbeafe;
    --pair1:#fef3c7; --pair2:#dcfce7; --pair3:#dbeafe; --pair4:#fae8ff;
  }
  *{box-sizing:border-box;margin:0;padding:0}
  html,body{font-family:'Inter',system-ui,-apple-system,'Segoe UI',Roboto,sans-serif;background:var(--bg);color:var(--text);line-height:1.55}
  a{color:var(--accent);text-decoration:none}
  a:hover{text-decoration:underline}
  .container{max-width:900px;margin:auto;padding:16px}
  @media (max-width:600px){.container{padding:12px}}

  /* Header / Footer / Breadcrumbs */
  .site-header,.site-footer{background:var(--header-bg);color:var(--header-fg);padding:14px 18px}
  .site-header{display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;position:sticky;top:0;z-index:60}
  .logo{font-weight:700;font-size:1.15rem;color:#fff}
  .site-header nav{display:flex;gap:14px}
  .site-header nav a{color:#ced4da}
  .site-header nav a:hover{color:#fff}
  .breadcrumbs{margin:12px 0 20px;color:#6c757d;overflow:auto;white-space:nowrap}
  .breadcrumbs a{color:var(--accent)}
  h1{font-size:clamp(1.8rem,5vw,2.4rem);line-height:1.1;margin-bottom:6px}
  h2{font-size:clamp(1.3rem,4vw,1.8rem);margin:24px 0 12px;border-bottom:2px solid var(--border);padding-bottom:6px}
  h3{font-size:1.15rem;margin:12px 0 8px}
  p{margin:10px 0;word-wrap:break-word}
  .lead{font-size:1.05rem}
  .btn{background:var(--accent);color:#fff;border:none;padding:10px 14px;border-radius:10px;font-weight:700;cursor:pointer}
  .btn.secondary{background:#f1f3f5;color:#212529}

  /* ================= Glossary chips (distinct) ================= */
  .glossary-cloud{display:flex;flex-wrap:wrap;gap:12px;margin:14px 0}
  .glossary-chip{position:relative;display:inline-flex;align-items:center;gap:8px;padding:10px 14px;border-radius:999px;background:#fff7ed;border:1px solid #ffd8a8;color:#d9480f;font-weight:600;cursor:pointer;box-shadow:0 2px 6px rgba(253,126,20,.12)}
  .glossary-chip:focus{outline:3px solid rgba(253,126,20,.35)}
  /* Tooltip bubble: fixed + clamped so it never clips */
  .chip-tip{position:fixed;z-index:80;min-width:240px;max-width:min(92vw,420px);background:var(--accent);color:#fff;padding:12px 14px;border-radius:12px;box-shadow:0 12px 28px rgba(253,126,20,.35);opacity:0;visibility:hidden;transition:.15s;line-height:1.45}
  .chip-tip.show{opacity:1;visibility:visible}
  .chip-tip .arrow{position:absolute;width:12px;height:12px;background:var(--accent);transform:rotate(45deg)}

  /* ================= 4-option MCQ ================= */
  .quiz{border:2px solid var(--border);border-radius:12px;background:#fff;padding:16px;margin:12px 0}
  .quiz-q{font-weight:700;margin-bottom:8px}
  .quiz-options{display:grid;gap:10px;margin:10px 0}
  .quiz-option{padding:10px 12px;border:2px solid var(--border);border-radius:10px;background:#f8f9fa;cursor:pointer;text-align:left}
  .quiz-option:hover{border-color:var(--accent)}
  .quiz-option.correct{background:var(--ok-soft);border-color:var(--ok);color:#0f5132}
  .quiz-option.incorrect{background:var(--bad-soft);border-color:var(--bad);color:#842029}
  .quiz-explain{display:none;margin-top:10px;padding:12px;border-radius:10px;background:#fff7ed;border:1px solid #ffd8a8}
  .quiz-explain.show{display:block}
  .quiz-explain .status.ok{color:var(--ok);font-weight:800;margin-bottom:6px}
  .quiz-explain .status.bad{color:var(--bad);font-weight:800;margin-bottom:6px}
  .quiz-explain .correctline{margin-top:6px}
  .quiz-explain .correctline strong{color:var(--ok)}

  /* ================= Bulk Content (paragraphs & lists) ================= */
  .content-body{font-size:1rem;color:var(--text);line-height:1.7}
  .content-body p{margin-bottom:16px}
  .content-body ul,.content-body ol{margin-left:24px;margin-bottom:24px}
  .content-body ul{list-style:disc}
  .content-body ol{list-style:decimal}
  .content-body li{margin-bottom:12px}
  .content-style-card{border:1px solid var(--border);border-radius:12px;background:#fff;padding:14px;margin-bottom:12px}

  /* ================= Calculator Styles ================= */
  .calculator-container{max-width:1200px;margin:auto;padding:20px 0}
  .calc-header{text-align:center;margin-bottom:30px}
  .calc-title{font-size:clamp(1.8rem,5vw,2.4rem);margin-bottom:8px;color:var(--header-bg)}
  .calc-subtitle{color:#6c757d;font-size:1.1rem}
  
  /* Main Calculator Layout */
  .calc-layout{display:grid;grid-template-columns:300px 1fr 320px;gap:20px;margin-top:20px}
  @media (max-width:1100px){.calc-layout{grid-template-columns:1fr;gap:16px}}
  
  /* Input Panel */
  .input-panel{background:#fff;border:1px solid var(--border);border-radius:12px;padding:16px}
  .input-section{margin-bottom:20px}
  .input-section h3{color:var(--header-bg);margin-bottom:12px;font-size:1rem;border-bottom:2px solid var(--accent);padding-bottom:4px}
  
  /* Preset Mode Selector */
  .mode-selector{display:grid;gap:8px;margin-bottom:16px}
  .mode-btn{padding:10px 12px;border:2px solid var(--border);border-radius:8px;background:#fff;cursor:pointer;text-align:left;transition:all 0.2s}
  .mode-btn:hover{border-color:var(--accent);background:#fff7ed}
  .mode-btn.active{border-color:var(--accent);background:var(--accent);color:#fff}
  .mode-title{font-weight:600;display:block}
  .mode-desc{font-size:0.85rem;opacity:0.8;margin-top:2px}
  
  /* Input Fields */
  .input-group{margin-bottom:12px;position:relative}
  .input-label{display:block;margin-bottom:4px;font-weight:500;color:#495057}
  .input-field{width:100%;padding:8px 12px;border:1px solid var(--border);border-radius:6px;font-size:0.95rem}
  .input-field:focus{outline:none;border-color:var(--accent);box-shadow:0 0 0 2px rgba(253,126,20,.2)}
  .input-row{display:grid;grid-template-columns:1fr 1fr;gap:8px}
  .unit{color:#6c757d;font-size:0.85rem;margin-top:2px}
  
  /* Error states */
  .input-field.error{border-color:var(--bad);box-shadow:0 0 0 2px rgba(220,38,38,.2)}
  .field-error-tooltip{position:absolute;top:100%;left:0;right:0;background:var(--bad);color:#fff;padding:8px 10px;border-radius:6px;font-size:0.85rem;z-index:10;margin-top:4px;box-shadow:0 4px 12px rgba(220,38,38,.3);opacity:0;visibility:hidden;transition:all 0.2s ease}
  .field-error-tooltip.show{opacity:1;visibility:visible}
  .field-error-tooltip::before{content:'';position:absolute;top:-6px;left:12px;width:0;height:0;border-left:6px solid transparent;border-right:6px solid transparent;border-bottom:6px solid var(--bad)}
  
  /* Warning states */
  .input-field.warning{border-color:var(--warning);box-shadow:0 0 0 2px rgba(245,158,11,.2)}
  .field-warning-tooltip{position:absolute;top:100%;left:0;right:0;background:var(--warning);color:#fff;padding:8px 10px;border-radius:6px;font-size:0.85rem;z-index:10;margin-top:4px;box-shadow:0 4px 12px rgba(245,158,11,.3);opacity:0;visibility:hidden;transition:all 0.2s ease}
  .field-warning-tooltip.show{opacity:1;visibility:visible}
  .field-warning-tooltip::before{content:'';position:absolute;top:-6px;left:12px;width:0;height:0;border-left:6px solid transparent;border-right:6px solid transparent;border-bottom:6px solid var(--warning)}
  
  .error-message{background:var(--bad-soft);border:1px solid var(--bad);color:var(--bad);padding:8px 12px;border-radius:6px;margin-top:8px;font-size:0.9rem}
  
  /* Action Buttons */
  .calc-actions{display:flex;gap:8px;margin-top:16px}
  .btn-primary{background:var(--accent);color:#fff}
  .btn-primary:hover{background:var(--accent-2)}
  .btn-secondary{background:#f1f3f5;color:#495057;border:1px solid var(--border)}
  .btn-secondary:hover{background:#e9ecef}
  
  /* Visualization Area */
  .viz-panel{background:#fff;border:1px solid var(--border);border-radius:12px;overflow:hidden}
  .viz-header{background:var(--muted);padding:12px 16px;border-bottom:1px solid var(--border)}
  .viz-header h3{margin:0;color:var(--header-bg)}
  .viz-canvas-container{position:relative;height:400px;background:linear-gradient(135deg,#f8f9fa,#e9ecef)}
  #physicsCanvas{display:block;width:100%;height:100%;cursor:crosshair}
  .viz-controls{padding:12px 16px;border-top:1px solid var(--border);display:flex;gap:8px;align-items:center}
  .viz-legend{display:flex;gap:12px;flex-wrap:wrap;margin-top:8px;font-size:0.85rem}
  .legend-item{display:flex;align-items:center;gap:4px}
  .legend-color{width:12px;height:12px;border-radius:2px}
  
  /* Solution Panel */
  .solution-panel{background:#fff;border:1px solid var(--border);border-radius:12px}
  .solution-header{background:var(--muted);padding:12px 16px;border-bottom:1px solid var(--border)}
  .solution-content{padding:16px;max-height:400px;overflow-y:auto}
  .solution-step{margin-bottom:16px;padding:12px;border-left:4px solid var(--accent);background:#fff7ed;border-radius:0 8px 8px 0}
  .step-title{font-weight:600;color:var(--header-bg);margin-bottom:6px}
  .step-content{color:#495057;line-height:1.5}
  .result-box{background:var(--ok-soft);border:1px solid var(--ok);padding:12px;border-radius:8px;margin-top:12px}
  .result-title{font-weight:700;color:var(--ok);margin-bottom:4px}
  .result-value{font-size:1.1rem;font-weight:600}
  
  /* Responsive adjustments */
  @media (max-width:768px){
    .input-row{grid-template-columns:1fr}
    .calc-actions{flex-direction:column}
    .viz-canvas-container{height:300px}
  }
</style>
</head>
<body>
<header class="site-header">
  <a class="logo" href="#">Beyond Dictionary</a>
  <nav>
    <a href="#">Learning</a>
    <a href="#">Games</a>
    <a href="#">Blog</a>
  </nav>
</header>

<main class="container">
  <nav class="breadcrumbs" aria-label="Breadcrumb">
    <a href="#">Concepts</a> › <a href="#">Physics</a> › <span>Newton's Laws & Free-Body Calculator</span>
  </nav>

  <header>
    <h1>Newton's Laws & Free-Body Calculator</h1>
    <p class="lead">Master force analysis, acceleration calculations, and free-body diagrams with our interactive physics calculator. Perfect for high school and college-level mechanics problems.</p>
  </header>

  <!-- Introduction Section -->
  <section id="introduction">
    <h2>Understanding Newton's Laws of Motion</h2>
    <div class="content-body">
      <p>Newton's three laws of motion form the foundation of classical mechanics, describing the relationship between forces acting on objects and their resulting motion. These principles, formulated by Sir Isaac Newton in 1687, remain essential for understanding everything from everyday physics to space exploration.</p>
      
      <p><strong>Newton's First Law (Law of Inertia):</strong> An object at rest stays at rest, and an object in motion stays in motion at constant velocity, unless acted upon by a net external force. This explains why passengers lurch forward when a car suddenly stops.</p>
      
      <p><strong>Newton's Second Law:</strong> The acceleration of an object is directly proportional to the net force acting on it and inversely proportional to its mass. Mathematically: <strong>F = ma</strong>. This is the most commonly used law in problem-solving.</p>
      
      <p><strong>Newton's Third Law:</strong> For every action, there is an equal and opposite reaction. When you push against a wall, the wall pushes back with equal force.</p>
      
      <p>Free-body diagrams are visual tools that help identify and analyze all forces acting on an object. By drawing these diagrams and applying Newton's laws systematically, you can solve complex physics problems involving multiple forces, friction, inclined planes, and connected objects.</p>
    </div>
  </section>

  <!-- Interactive Calculator -->
  <section id="calculator">
    <h2>Interactive Physics Calculator</h2>
    <div class="calculator-container">
      <div class="calc-layout">
        <!-- Input Panel -->
        <div class="input-panel">
          <div class="input-section">
            <h3>🎯 Select Scenario</h3>
            <div class="mode-selector">
              <button class="mode-btn active" data-mode="horizontal">
                <span class="mode-title">Horizontal Pull</span>
                <span class="mode-desc">Object on flat surface with applied force</span>
              </button>
              <button class="mode-btn" data-mode="incline">
                <span class="mode-title">Incline with Pulley</span>
                <span class="mode-desc">Object on ramp connected via pulley system</span>
              </button>
              <button class="mode-btn" data-mode="twoblock">
                <span class="mode-title">Two-Block System</span>
                <span class="mode-desc">Connected masses with different configurations</span>
              </button>
            </div>
          </div>
          
          <div class="input-section">
            <h3>📏 Object Properties</h3>
            <div class="input-group">
              <label class="input-label">Mass (kg)</label>
              <input type="number" class="input-field" id="mass1" value="5" step="0.1" min="0.1">
              <div class="unit">Kilograms</div>
            </div>
            <div class="input-group" id="mass2Group" style="display:none">
              <label class="input-label">Mass 2 (kg)</label>
              <input type="number" class="input-field" id="mass2" value="3" step="0.1" min="0.1">
              <div class="unit">Second object mass</div>
            </div>
          </div>
          
          <div class="input-section">
            <h3>⚡ Applied Forces</h3>
            <div class="input-group">
              <label class="input-label">Applied Force (N)</label>
              <input type="number" class="input-field" id="appliedForce" value="20" step="0.1">
              <div class="unit">Newtons</div>
            </div>
            <div class="input-group" id="angleGroup" style="display:none">
              <label class="input-label">Incline Angle (°)</label>
              <input type="number" class="input-field" id="angle" value="30" step="1" min="0" max="90">
              <div class="unit">Degrees from horizontal</div>
            </div>
          </div>
          
          <div class="input-section">
            <h3>🔧 Surface Properties</h3>
            <div class="input-row">
              <div class="input-group">
                <label class="input-label">μₛ (static)</label>
                <input type="number" class="input-field" id="muStatic" value="0.3" step="0.01" min="0">
                <div class="unit">Static friction</div>
              </div>
              <div class="input-group">
                <label class="input-label">μₖ (kinetic)</label>
                <input type="number" class="input-field" id="muKinetic" value="0.2" step="0.01" min="0">
                <div class="unit">Kinetic friction</div>
              </div>
            </div>
          </div>
          
          <div class="calc-actions">
            <button class="btn btn-primary" id="calculateBtn">Calculate Forces</button>
            <button class="btn btn-secondary" id="clearBtn">Clear All</button>
          </div>
        </div>
        
        <!-- Visualization Area -->
        <div class="viz-panel">
          <div class="viz-header">
            <h3>Free-Body Diagram</h3>
          </div>
          <div class="viz-canvas-container">
            <canvas id="physicsCanvas" width="600" height="400"></canvas>
          </div>
          <div class="viz-controls">
            <button class="btn btn-secondary" id="showForces">Show Forces</button>
            <button class="btn btn-secondary" id="showComponents">Show Components</button>
            <button class="btn btn-secondary" id="animateBtn">Animate Motion</button>
          </div>
          <div class="viz-legend">
            <div class="legend-item">
              <div class="legend-color" style="background:#dc2626"></div>
              <span>Weight (mg)</span>
            </div>
            <div class="legend-item">
              <div class="legend-color" style="background:#2563eb"></div>
              <span>Normal Force (N)</span>
            </div>
            <div class="legend-item">
              <div class="legend-color" style="background:#16a34a"></div>
              <span>Applied Force (F)</span>
            </div>
            <div class="legend-item">
              <div class="legend-color" style="background:#f59e0b"></div>
              <span>Friction (f)</span>
            </div>
            <div class="legend-item">
              <div class="legend-color" style="background:#8b5cf6"></div>
              <span>Tension (T)</span>
            </div>
          </div>
        </div>
        
        <!-- Solution Panel -->
        <div class="solution-panel">
          <div class="solution-header">
            <h3>Step-by-Step Solution</h3>
          </div>
          <div class="solution-content" id="solutionContent">
            <p style="color:#6c757d;text-align:center;margin-top:40px">
              Select a scenario and click "Calculate Forces" to see the detailed solution.
            </p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Practice Questions (MCQs) -->
  <section id="practice">
    <h2>Practice Questions</h2>
    <p style="color:#6c757d;margin-bottom:20px">Test your understanding with these physics problems. Click on the best answer for each question.</p>
    
    <!-- Question 1 -->
    <div class="quiz" id="quiz1">
      <div class="quiz-q">1. A 10 kg box is pushed with 50 N of force across a frictionless surface. What is its acceleration?</div>
      <div class="quiz-options">
        <button class="quiz-option" data-correct="true">5.0 m/s²</button>
        <button class="quiz-option" data-correct="false">10 m/s²</button>
        <button class="quiz-option" data-correct="false">500 m/s²</button>
        <button class="quiz-option" data-correct="false">0.2 m/s²</button>
      </div>
      <div class="quiz-explain">
        <div class="status"></div>
        <div class="correctline"><strong>Correct answer:</strong> 5.0 m/s²</div>
        <div class="why">Using Newton's second law: F = ma, so a = F/m = 50 N / 10 kg = 5.0 m/s².</div>
      </div>
    </div>

    <!-- Question 2 -->
    <div class="quiz" id="quiz2">
      <div class="quiz-q">2. Which force is always perpendicular to the surface in contact problems?</div>
      <div class="quiz-options">
        <button class="quiz-option" data-correct="false">Friction force</button>
        <button class="quiz-option" data-correct="true">Normal force</button>
        <button class="quiz-option" data-correct="false">Applied force</button>
        <button class="quiz-option" data-correct="false">Weight</button>
      </div>
      <div class="quiz-explain">
        <div class="status"></div>
        <div class="correctline"><strong>Correct answer:</strong> Normal force</div>
        <div class="why">The normal force is always perpendicular to the contact surface by definition. Friction acts parallel to the surface.</div>
      </div>
    </div>

    <!-- Question 3 -->
    <div class="quiz" id="quiz3">
      <div class="quiz-q">3. On a 30° incline, what fraction of an object's weight acts parallel to the surface?</div>
      <div class="quiz-options">
        <button class="quiz-option" data-correct="false">cos(30°) ≈ 0.87</button>
        <button class="quiz-option" data-correct="true">sin(30°) = 0.5</button>
        <button class="quiz-option" data-correct="false">tan(30°) ≈ 0.58</button>
        <button class="quiz-option" data-correct="false">1.0 (entire weight)</button>
      </div>
      <div class="quiz-explain">
        <div class="status"></div>
        <div class="correctline"><strong>Correct answer:</strong> sin(30°) = 0.5</div>
        <div class="why">The component of weight parallel to an incline is mg sin(θ). For 30°: sin(30°) = 0.5, so half the weight acts down the incline.</div>
      </div>
    </div>

    <!-- Question 4 -->
    <div class="quiz" id="quiz4">
      <div class="quiz-q">4. If μₛ = 0.4 and μₖ = 0.3, what happens when the applied force exceeds maximum static friction?</div>
      <div class="quiz-options">
        <button class="quiz-option" data-correct="false">Object remains stationary</button>
        <button class="quiz-option" data-correct="true">Object starts moving with kinetic friction opposing motion</button>
        <button class="quiz-option" data-correct="false">Friction becomes zero</button>
        <button class="quiz-option" data-correct="false">Static friction increases to match applied force</button>
      </div>
      <div class="quiz-explain">
        <div class="status"></div>
        <div class="correctline"><strong>Correct answer:</strong> Object starts moving with kinetic friction opposing motion</div>
        <div class="why">Once motion begins, static friction is replaced by kinetic friction (μₖN), which is typically lower than maximum static friction.</div>
      </div>
    </div>

    <!-- Question 5 -->
    <div class="quiz" id="quiz5">
      <div class="quiz-q">5. In an Atwood machine with masses 5 kg and 3 kg, which direction will the system accelerate?</div>
      <div class="quiz-options">
        <button class="quiz-option" data-correct="true">5 kg mass moves down</button>
        <button class="quiz-option" data-correct="false">3 kg mass moves down</button>
        <button class="quiz-option" data-correct="false">System remains in equilibrium</button>
        <button class="quiz-option" data-correct="false">Cannot determine without knowing the pulley radius</button>
      </div>
      <div class="quiz-explain">
        <div class="status"></div>
        <div class="correctline"><strong>Correct answer:</strong> 5 kg mass moves down</div>
        <div class="why">The heavier mass (5 kg) will accelerate downward, pulling the lighter mass (3 kg) upward through the string and pulley system.</div>
      </div>
    </div>

    <!-- Question 6 -->
    <div class="quiz" id="quiz6">
      <div class="quiz-q">6. What is the relationship between mass and acceleration when force is constant?</div>
      <div class="quiz-options">
        <button class="quiz-option" data-correct="false">Directly proportional</button>
        <button class="quiz-option" data-correct="true">Inversely proportional</button>
        <button class="quiz-option" data-correct="false">No relationship</button>
        <button class="quiz-option" data-correct="false">Exponentially related</button>
      </div>
      <div class="quiz-explain">
        <div class="status"></div>
        <div class="correctline"><strong>Correct answer:</strong> Inversely proportional</div>
        <div class="why">From F = ma, if F is constant, then a = F/m. As mass increases, acceleration decreases proportionally.</div>
      </div>
    </div>

    <!-- Question 7 -->
    <div class="quiz" id="quiz7">
      <div class="quiz-q">7. A book rests on a table. What forces form a Newton's third law pair?</div>
      <div class="quiz-options">
        <button class="quiz-option" data-correct="false">Book's weight and normal force from table</button>
        <button class="quiz-option" data-correct="true">Book pushes on table; table pushes on book</button>
        <button class="quiz-option" data-correct="false">Book's weight and Earth's gravitational pull</button>
        <button class="quiz-option" data-correct="false">Normal force and friction force</button>
      </div>
      <div class="quiz-explain">
        <div class="status"></div>
        <div class="correctline"><strong>Correct answer:</strong> Book pushes on table; table pushes on book</div>
        <div class="why">Third law pairs act on different objects. The book pushes down on the table, and the table pushes up on the book with equal force.</div>
      </div>
    </div>

    <!-- Question 8 -->
    <div class="quiz" id="quiz8">
      <div class="quiz-q">8. What happens to tension in a string connecting two masses when the system accelerates?</div>
      <div class="quiz-options">
        <button class="quiz-option" data-correct="false">Tension equals the heavier mass's weight</button>
        <button class="quiz-option" data-correct="false">Tension equals the lighter mass's weight</button>
        <button class="quiz-option" data-correct="true">Tension is between the two weights</button>
        <button class="quiz-option" data-correct="false">Tension equals zero</button>
      </div>
      <div class="quiz-explain">
        <div class="status"></div>
        <div class="correctline"><strong>Correct answer:</strong> Tension is between the two weights</div>
        <div class="why">In an accelerating system, tension is always between the individual weights. For masses m₁ and m₂: T = 2m₁m₂g/(m₁ + m₂).</div>
      </div>
    </div>

    <!-- Question 9 -->
    <div class="quiz" id="quiz9">
      <div class="quiz-q">9. When drawing free-body diagrams, which forces should be included?</div>
      <div class="quiz-options">
        <button class="quiz-option" data-correct="true">Only external forces acting on the object</button>
        <button class="quiz-option" data-correct="false">All forces in the entire system</button>
        <button class="quiz-option" data-correct="false">Only contact forces</button>
        <button class="quiz-option" data-correct="false">Only gravitational forces</button>
      </div>
      <div class="quiz-explain">
        <div class="status"></div>
        <div class="correctline"><strong>Correct answer:</strong> Only external forces acting on the object</div>
        <div class="why">A free-body diagram shows only the external forces acting on the specific object being analyzed, not internal forces or forces on other objects.</div>
      </div>
    </div>

    <!-- Question 10 -->
    <div class="quiz" id="quiz10">
      <div class="quiz-q">10. If net force on an object is zero, what can you conclude about its motion?</div>
      <div class="quiz-options">
        <button class="quiz-option" data-correct="false">Object must be at rest</button>
        <button class="quiz-option" data-correct="false">Object must be accelerating</button>
        <button class="quiz-option" data-correct="true">Object moves at constant velocity (including zero)</button>
        <button class="quiz-option" data-correct="false">Object's motion cannot be determined</button>
      </div>
      <div class="quiz-explain">
        <div class="status"></div>
        <div class="correctline"><strong>Correct answer:</strong> Object moves at constant velocity (including zero)</div>
        <div class="why">Newton's first law: when net force is zero, acceleration is zero, so velocity remains constant. This includes remaining at rest (v = 0) or moving at constant speed.</div>
      </div>
    </div>
  </section>

  <!-- Glossary Section -->
  <section id="glossary">
    <h2>Physics Glossary</h2>
    <p style="color:#6c757d;margin-bottom:20px">Click on any term below to see its definition and understand key concepts.</p>
    <div id="glossaryCloud" class="glossary-cloud"></div>
  </section>
</main>

<footer class="site-footer">
  <small>© 2025 Beyond Dictionary</small>
</footer>

<!-- Tooltip for glossary -->
<div class="chip-tip" id="chipTip">
  <div class="arrow" aria-hidden="true"></div>
  <div class="tip-content" id="tipContent"></div>
</div>

<script>
// Glossary Data
const glossaryData = [
  {icon:'⚖️', term:'Newton\'s First Law', def:'Law of Inertia: An object at rest stays at rest, and an object in motion stays in motion at constant velocity, unless acted upon by a net external force.'},
  {icon:'🚀', term:'Newton\'s Second Law', def:'F = ma. The acceleration of an object is directly proportional to the net force acting on it and inversely proportional to its mass.'},
  {icon:'🔄', term:'Newton\'s Third Law', def:'For every action, there is an equal and opposite reaction. Forces always come in pairs acting on different objects.'},
  {icon:'📊', term:'Free-Body Diagram', def:'A diagram showing all external forces acting on a single object, with the object represented as a point or simple shape.'},
  {icon:'⬇️', term:'Weight', def:'The gravitational force acting on an object, calculated as W = mg, where m is mass and g is gravitational acceleration (9.81 m/s²).'},
  {icon:'⬆️', term:'Normal Force', def:'The contact force perpendicular to a surface that prevents objects from passing through each other. Equal to weight on horizontal surfaces.'},
  {icon:'🔥', term:'Friction Force', def:'The force that opposes relative motion between surfaces in contact. Static friction prevents motion; kinetic friction opposes existing motion.'},
  {icon:'🎯', term:'Net Force', def:'The vector sum of all forces acting on an object. Determines the object\'s acceleration according to Newton\'s second law.'},
  {icon:'📐', term:'Inclined Plane', def:'A flat surface tilted at an angle to the horizontal. Weight resolves into parallel (mg sin θ) and perpendicular (mg cos θ) components.'},
  {icon:'🪢', term:'Tension', def:'The pulling force transmitted through a string, rope, or cable when pulled tight by forces acting from opposite ends.'},
  {icon:'🔢', term:'Coefficient of Friction', def:'A dimensionless number (μ) representing the friction between two surfaces. Static (μₛ) is typically higher than kinetic (μₖ).'},
  {icon:'🏃', term:'Acceleration', def:'The rate of change of velocity, measured in m/s². Can be positive (speeding up), negative (slowing down), or zero (constant velocity).'},
  {icon:'⚙️', term:'Pulley System', def:'A mechanism using wheels and ropes to change the direction of forces and provide mechanical advantage in lifting or moving objects.'},
  {icon:'🎪', term:'Atwood Machine', def:'A classic physics system with two masses connected by a string over a pulley, used to study acceleration and tension in connected objects.'},
  {icon:'🎲', term:'Static Equilibrium', def:'A state where an object is at rest and the net force acting on it is zero. All forces are balanced.'}
];

// Initialize Glossary
function initGlossary() {
  const cloud = document.getElementById('glossaryCloud');
  const tip = document.getElementById('chipTip');
  const tipContent = document.getElementById('tipContent');
  const tipArrow = tip.querySelector('.arrow');
  let openChip = null;

  // Create glossary chips
  cloud.innerHTML = glossaryData.map((item, i) => 
    `<button class="glossary-chip" data-i="${i}" aria-expanded="false">
      <span class="icon">${item.icon}</span>
      <span>${item.term}</span>
    </button>`
  ).join('');

  function clamp(n, min, max) { return Math.max(min, Math.min(n, max)); }
  
  function positionTipFor(btn) {
    const rect = btn.getBoundingClientRect();
    const vw = window.innerWidth, vh = window.innerHeight;
    const pad = 8;
    
    tip.style.maxWidth = Math.min(vw - pad*2, 420) + 'px';
    const tipRect = tip.getBoundingClientRect();
    const preferTop = rect.top > (vh - rect.bottom);
    
    const top = preferTop ? rect.top - tipRect.height - 12 : rect.bottom + 12;
    const left = clamp(rect.left + rect.width/2 - tipRect.width/2, pad, vw - tipRect.width - pad);
    
    tip.style.top = Math.max(8, top) + 'px';
    tip.style.left = left + 'px';
    
    tipArrow.style.top = preferTop ? (tipRect.height - 6) + 'px' : '-6px';
    tipArrow.style.left = clamp(rect.left + rect.width/2 - left - 6, 10, tipRect.width - 22) + 'px';
  }
  
  function openTip(btn, text) {
    tipContent.textContent = text;
    tip.classList.add('show');
    positionTipFor(btn);
    openChip = btn;
  }
  
  function closeTip() {
    tip.classList.remove('show');
    openChip = null;
  }

  // Add event listeners
  cloud.querySelectorAll('.glossary-chip').forEach((btn, i) => {
    const def = glossaryData[i].def;
    ['click', 'focus'].forEach(evt => 
      btn.addEventListener(evt, () => openTip(btn, def))
    );
    btn.addEventListener('blur', () => {
      if (document.activeElement !== btn) closeTip();
    });
  });

  window.addEventListener('resize', () => {
    if (openChip) positionTipFor(openChip);
  });
  
  window.addEventListener('scroll', () => {
    if (openChip) positionTipFor(openChip);
  }, {passive: true});
  
  document.addEventListener('click', (e) => {
    if (openChip && !openChip.contains(e.target) && !tip.contains(e.target)) {
      closeTip();
    }
  });
}

// Initialize MCQ functionality
function initMCQs() {
  document.querySelectorAll('.quiz').forEach(quiz => {
    const options = quiz.querySelectorAll('.quiz-option');
    const explain = quiz.querySelector('.quiz-explain');
    const status = explain.querySelector('.status');
    
    options.forEach(option => {
      option.addEventListener('click', () => {
        const isCorrect = option.dataset.correct === 'true';
        
        // Remove previous states
        options.forEach(opt => opt.classList.remove('correct', 'incorrect'));
        
        // Show result
        if (isCorrect) {
          option.classList.add('correct');
          status.className = 'status ok';
          status.textContent = 'Correct!';
        } else {
          option.classList.add('incorrect');
          // Highlight the correct answer
          options.forEach(opt => {
            if (opt.dataset.correct === 'true') opt.classList.add('correct');
          });
          status.className = 'status bad';
          status.textContent = 'Incorrect.';
        }
        
        explain.classList.add('show');
        explain.scrollIntoView({behavior: 'smooth', block: 'nearest'});
      });
    });
  });
}

// Newton Calculator Class (same as before)
class NewtonCalculator {
  constructor() {
    this.canvas = document.getElementById('physicsCanvas');
    this.ctx = this.canvas.getContext('2d');
    this.currentMode = 'horizontal';
    this.results = null;
    this.showingForces = true;
    this.showingComponents = false;
    this.animating = false;
    
    this.initializeEventListeners();
    this.drawInitialDiagram();
  }
  
  initializeEventListeners() {
    // Mode selector
    document.querySelectorAll('.mode-btn').forEach(btn => {
      btn.addEventListener('click', () => {
        document.querySelectorAll('.mode-btn').forEach(b => b.classList.remove('active'));
        btn.classList.add('active');
        this.currentMode = btn.dataset.mode;
        this.updateInputVisibility();
        this.drawInitialDiagram();
      });
    });
    
    // Calculate button
    document.getElementById('calculateBtn').addEventListener('click', () => {
      this.calculateForces();
    });
    
    // Clear button
    document.getElementById('clearBtn').addEventListener('click', () => {
      this.clearAll();
    });
    
    // Visualization controls
    document.getElementById('showForces').addEventListener('click', () => {
      this.showingForces = !this.showingForces;
      this.redrawDiagram();
    });
    
    document.getElementById('showComponents').addEventListener('click', () => {
      this.showingComponents = !this.showingComponents;
      this.redrawDiagram();
    });
    
    document.getElementById('animateBtn').addEventListener('click', () => {
      this.toggleAnimation();
    });
    
    // Input change listeners with validation
    ['mass1', 'mass2', 'appliedForce', 'angle', 'muStatic', 'muKinetic'].forEach(id => {
      const element = document.getElementById(id);
      if (element) {
        element.addEventListener('input', () => {
          this.validateField(element);
          if (this.results) this.calculateForces();
        });
        element.addEventListener('blur', () => {
          this.validateField(element);
        });
        element.addEventListener('focus', () => {
          this.clearFieldError(element);
        });
      }
    });
  }
  
  updateInputVisibility() {
    const mass2Group = document.getElementById('mass2Group');
    const angleGroup = document.getElementById('angleGroup');
    
    switch(this.currentMode) {
      case 'horizontal':
        mass2Group.style.display = 'none';
        angleGroup.style.display = 'none';
        break;
      case 'incline':
        mass2Group.style.display = 'none';
        angleGroup.style.display = 'block';
        break;
      case 'twoblock':
        mass2Group.style.display = 'block';
        angleGroup.style.display = 'none';
        break;
    }
    
    // Clear any errors on hidden fields
    if (mass2Group.style.display === 'none') {
      this.clearFieldError(document.getElementById('mass2'));
    }
    if (angleGroup.style.display === 'none') {
      this.clearFieldError(document.getElementById('angle'));
    }
  }
  
  getInputValues() {
    return {
      mass1: parseFloat(document.getElementById('mass1').value) || 0,
      mass2: parseFloat(document.getElementById('mass2').value) || 0,
      appliedForce: parseFloat(document.getElementById('appliedForce').value) || 0,
      angle: parseFloat(document.getElementById('angle').value) || 0,
      muStatic: parseFloat(document.getElementById('muStatic').value) || 0,
      muKinetic: parseFloat(document.getElementById('muKinetic').value) || 0
    };
  }
  
  validateField(element) {
    const id = element.id;
    const value = parseFloat(element.value);
    
    this.clearFieldError(element);
    
    // Common validations
    if (isNaN(value)) {
      this.showFieldError(element, 'Please enter a valid number');
      return false;
    }
    
    switch(id) {
      case 'mass1':
      case 'mass2':
        if (value <= 0) {
          this.showFieldError(element, 'Mass must be positive (greater than 0)');
          return false;
        }
        if (value > 1000) {
          this.showFieldWarning(element, 'Very large mass - check if this is realistic for your scenario');
        }
        if (value < 0.001) {
          this.showFieldWarning(element, 'Very small mass - results may be less accurate');
        }
        break;
        
      case 'appliedForce':
        if (Math.abs(value) > 10000) {
          this.showFieldWarning(element, 'Very large force - check magnitude and units (Newtons)');
        }
        // Check if force is unrealistic for the mass
        const mass = parseFloat(document.getElementById('mass1').value);
        if (mass > 0 && Math.abs(value) > mass * 100) {
          this.showFieldWarning(element, `Force seems large relative to mass (${mass} kg). This would cause extreme acceleration.`);
        }
        break;
        
      case 'angle':
        if (value < 0) {
          this.showFieldError(element, 'Angle cannot be negative');
          return false;
        }
        if (value > 90) {
          this.showFieldError(element, 'Angle cannot exceed 90° (object would fall off incline)');
          return false;
        }
        if (value > 75) {
          this.showFieldWarning(element, 'Very steep incline - friction may not prevent sliding');
        }
        if (value < 5) {
          this.showFieldWarning(element, 'Very shallow incline - gravity component will be small');
        }
        break;
        
      case 'muStatic':
        if (value < 0) {
          this.showFieldError(element, 'Friction coefficient cannot be negative');
          return false;
        }
        if (value > 2) {
          this.showFieldWarning(element, 'Unusually high static friction coefficient (>2.0). Check your value.');
        }
        // Check if μₛ < μₖ
        const muKinetic = parseFloat(document.getElementById('muKinetic').value);
        if (muKinetic > value && muKinetic > 0) {
          this.showFieldError(element, 'Static friction (μₛ) must be ≥ kinetic friction (μₖ). Static friction should be higher.');
          return false;
        }
        break;
        
      case 'muKinetic':
        if (value < 0) {
          this.showFieldError(element, 'Friction coefficient cannot be negative');
          return false;
        }
        if (value > 2) {
          this.showFieldWarning(element, 'Unusually high kinetic friction coefficient (>2.0). Check your value.');
        }
        // Check if μₖ > μₛ
        const muStatic = parseFloat(document.getElementById('muStatic').value);
        if (value > muStatic && muStatic > 0) {
          this.showFieldError(element, 'Kinetic friction (μₖ) must be ≤ static friction (μₛ). Kinetic friction is usually lower.');
          return false;
        }
        break;
    }
    
    return true;
  }
  
  showFieldError(element, message) {
    element.classList.add('error');
    element.classList.remove('warning');
    
    // Remove existing tooltips
    const existingTooltip = element.parentNode.querySelector('.field-error-tooltip, .field-warning-tooltip');
    if (existingTooltip) existingTooltip.remove();
    
    // Create new error tooltip
    const tooltip = document.createElement('div');
    tooltip.className = 'field-error-tooltip show';
    tooltip.textContent = message;
    element.parentNode.appendChild(tooltip);
    
    // Auto-hide after 8 seconds
    setTimeout(() => {
      if (tooltip.parentNode) {
        tooltip.classList.remove('show');
        setTimeout(() => tooltip.remove(), 200);
      }
    }, 8000);
  }
  
  showFieldWarning(element, message) {
    if (!element.classList.contains('error')) { // Don't override errors with warnings
      element.classList.add('warning');
      
      // Remove existing tooltips
      const existingTooltip = element.parentNode.querySelector('.field-error-tooltip, .field-warning-tooltip');
      if (existingTooltip) existingTooltip.remove();
      
      // Create new warning tooltip
      const tooltip = document.createElement('div');
      tooltip.className = 'field-warning-tooltip show';
      tooltip.textContent = message;
      element.parentNode.appendChild(tooltip);
      
      // Auto-hide after 6 seconds
      setTimeout(() => {
        if (tooltip.parentNode) {
          tooltip.classList.remove('show');
          setTimeout(() => tooltip.remove(), 200);
        }
      }, 6000);
    }
  }
  
  clearFieldError(element) {
    element.classList.remove('error', 'warning');
    const tooltip = element.parentNode.querySelector('.field-error-tooltip, .field-warning-tooltip');
    if (tooltip) {
      tooltip.classList.remove('show');
      setTimeout(() => tooltip.remove(), 200);
    }
  }
  
  validateAllFields() {
    const fields = ['mass1', 'mass2', 'appliedForce', 'angle', 'muStatic', 'muKinetic'];
    let allValid = true;
    
    fields.forEach(id => {
      const element = document.getElementById(id);
      if (element && element.offsetParent !== null) { // Only validate visible fields
        if (!this.validateField(element)) {
          allValid = false;
        }
      }
    });
    
    return allValid;
  }
  
  calculateForces() {
    // First validate all visible fields
    if (!this.validateAllFields()) {
      this.displayError('Please fix the highlighted field errors before calculating.');
      return;
    }
    
    const inputs = this.getInputValues();
    const g = 9.81; // gravitational acceleration
    
    try {
      let results = {};
      
      switch(this.currentMode) {
        case 'horizontal':
          results = this.calculateHorizontal(inputs, g);
          break;
        case 'incline':
          results = this.calculateIncline(inputs, g);
          break;
        case 'twoblock':
          results = this.calculateTwoBlock(inputs, g);
          break;
      }
      
      this.results = results;
      this.displaySolution(results);
      this.redrawDiagram();
      
    } catch (error) {
      this.displayError(error.message);
    }
  }
  
  calculateHorizontal(inputs, g) {
    const {mass1, appliedForce, muStatic, muKinetic} = inputs;
    
    // Enhanced validation with specific error messages
    if (mass1 <= 0) throw new Error('Mass must be positive. Check the object mass field.');
    if (muStatic < 0 || muKinetic < 0) throw new Error('Friction coefficients cannot be negative. Check μₛ and μₖ values.');
    if (muKinetic > muStatic) throw new Error('Kinetic friction coefficient (μₖ) cannot exceed static friction coefficient (μₛ).');
    
    const weight = mass1 * g;
    const normal = weight;
    const maxStaticFriction = muStatic * normal;
    
    let friction, acceleration, motion;
    
    if (Math.abs(appliedForce) <= maxStaticFriction) {
      // Static case
      friction = -appliedForce;
      acceleration = 0;
      motion = 'static';
    } else {
      // Kinetic case
      friction = -Math.sign(appliedForce) * muKinetic * normal;
      const netForce = appliedForce + friction;
      acceleration = netForce / mass1;
      motion = 'kinetic';
    }
    
    return {
      mode: 'horizontal',
      mass1,
      appliedForce,
      weight,
      normal,
      friction,
      netForce: appliedForce + friction,
      acceleration,
      motion,
      steps: this.generateHorizontalSteps(inputs, weight, normal, friction, acceleration, motion)
    };
  }
  
  calculateIncline(inputs, g) {
    const {mass1, appliedForce, angle, muStatic, muKinetic} = inputs;
    
    // Enhanced validation
    if (mass1 <= 0) throw new Error('Mass must be positive. Check the object mass field.');
    if (angle < 0) throw new Error('Incline angle cannot be negative. Check the angle field.');
    if (angle > 90) throw new Error('Incline angle cannot exceed 90°. Objects cannot stay on vertical or overhanging surfaces.');
    if (muStatic < 0 || muKinetic < 0) throw new Error('Friction coefficients cannot be negative. Check μₛ and μₖ values.');
    if (muKinetic > muStatic) throw new Error('Kinetic friction coefficient (μₖ) cannot exceed static friction coefficient (μₛ).');
    
    const angleRad = angle * Math.PI / 180;
    const weight = mass1 * g;
    const weightParallel = weight * Math.sin(angleRad);
    const weightPerpendicular = weight * Math.cos(angleRad);
    const normal = weightPerpendicular;
    const maxStaticFriction = muStatic * normal;
    
    const netParallelForce = appliedForce - weightParallel;
    
    let friction, acceleration, motion;
    
    if (Math.abs(netParallelForce) <= maxStaticFriction) {
      friction = -netParallelForce;
      acceleration = 0;
      motion = 'static';
    } else {
      friction = -Math.sign(netParallelForce) * muKinetic * normal;
      const totalNetForce = netParallelForce + friction;
      acceleration = totalNetForce / mass1;
      motion = 'kinetic';
    }
    
    return {
      mode: 'incline',
      mass1,
      angle,
      appliedForce,
      weight,
      weightParallel,
      weightPerpendicular,
      normal,
      friction,
      netForce: netParallelForce + friction,
      acceleration,
      motion,
      steps: this.generateInclineSteps(inputs, weight, weightParallel, weightPerpendicular, normal, friction, acceleration, motion)
    };
  }
  
  calculateTwoBlock(inputs, g) {
    const {mass1, mass2, appliedForce, muStatic, muKinetic} = inputs;
    
    // Enhanced validation
    if (mass1 <= 0 || mass2 <= 0) throw new Error('Both masses must be positive. Check mass values.');
    if (Math.abs(mass1 - mass2) < 0.001) throw new Error('Masses are essentially equal. The system will be in equilibrium with minimal acceleration.');
    if (muStatic < 0 || muKinetic < 0) throw new Error('Friction coefficients cannot be negative. Check μₛ and μₖ values.');
    
    // Assume mass1 is heavier and will fall
    const netForce = Math.abs(mass1 - mass2) * g;
    const totalMass = mass1 + mass2;
    const acceleration = netForce / totalMass;
    const tension = (2 * mass1 * mass2 * g) / totalMass;
    
    return {
      mode: 'twoblock',
      mass1,
      mass2,
      appliedForce,
      acceleration,
      tension,
      netForce,
      direction: mass1 > mass2 ? 'mass1_down' : 'mass2_down',
      steps: this.generateTwoBlockSteps(inputs, acceleration, tension, netForce)
    };
  }
  
  generateHorizontalSteps(inputs, weight, normal, friction, acceleration, motion) {
    const steps = [];
    
    steps.push({
      title: '1. Identify Forces',
      content: `Weight (mg): ${weight.toFixed(2)} N downward<br>
                Normal force (N): ${normal.toFixed(2)} N upward<br>
                Applied force (F): ${inputs.appliedForce} N horizontal<br>
                Friction force (f): ${friction.toFixed(2)} N`
    });
    
    steps.push({
      title: '2. Apply Newton\'s Second Law',
      content: `Vertical: ΣFy = N - mg = 0<br>
                Therefore: N = ${normal.toFixed(2)} N<br><br>
                Horizontal: ΣFx = F + f = ma<br>
                ${inputs.appliedForce} + (${friction.toFixed(2)}) = ${inputs.mass1} × a`
    });
    
    steps.push({
      title: '3. Determine Motion',
      content: `Maximum static friction: μₛN = ${inputs.muStatic} × ${normal.toFixed(2)} = ${(inputs.muStatic * normal).toFixed(2)} N<br>
                Applied force: ${Math.abs(inputs.appliedForce)} N<br>
                Motion: ${motion === 'static' ? 'Static (no motion)' : 'Kinetic (object moves)'}`
    });
    
    return steps;
  }
  
  generateInclineSteps(inputs, weight, weightParallel, weightPerpendicular, normal, friction, acceleration, motion) {
    const steps = [];
    
    steps.push({
      title: '1. Resolve Weight Components',
      content: `Weight: mg = ${weight.toFixed(2)} N<br>
                Parallel component: mg sin(${inputs.angle}°) = ${weightParallel.toFixed(2)} N<br>
                Perpendicular component: mg cos(${inputs.angle}°) = ${weightPerpendicular.toFixed(2)} N`
    });
    
    steps.push({
      title: '2. Find Normal Force',
      content: `Perpendicular equilibrium: N = mg cos(θ)<br>
                N = ${normal.toFixed(2)} N`
    });
    
    steps.push({
      title: '3. Analyze Parallel Forces',
      content: `Net force down incline: mg sin(θ) - F = ${weightParallel.toFixed(2)} - ${inputs.appliedForce} = ${(weightParallel - inputs.appliedForce).toFixed(2)} N<br>
                Friction: ${friction.toFixed(2)} N<br>
                Motion: ${motion}`
    });
    
    return steps;
  }
  
  generateTwoBlockSteps(inputs, acceleration, tension, netForce) {
    const steps = [];
    
    steps.push({
      title: '1. System Analysis',
      content: `Mass 1: ${inputs.mass1} kg<br>
                Mass 2: ${inputs.mass2} kg<br>
                Weight difference: |m₁ - m₂|g = ${Math.abs(inputs.mass1 - inputs.mass2) * 9.81} N`
    });
    
    steps.push({
      title: '2. Find System Acceleration',
      content: `For connected masses: a = |m₁ - m₂|g / (m₁ + m₂)<br>
                a = ${netForce.toFixed(2)} / ${(inputs.mass1 + inputs.mass2).toFixed(2)} = ${acceleration.toFixed(2)} m/s²`
    });
    
    steps.push({
      title: '3. Calculate Tension',
      content: `T = 2m₁m₂g / (m₁ + m₂)<br>
                T = 2 × ${inputs.mass1} × ${inputs.mass2} × 9.81 / ${(inputs.mass1 + inputs.mass2).toFixed(2)}<br>
                T = ${tension.toFixed(2)} N`
    });
    
    return steps;
  }
  
  displaySolution(results) {
    const content = document.getElementById('solutionContent');
    
    let stepsHtml = results.steps.map(step => 
      `<div class="solution-step">
        <div class="step-title">${step.title}</div>
        <div class="step-content">${step.content}</div>
      </div>`
    ).join('');
    
    let resultHtml = '';
    if (results.mode === 'horizontal' || results.mode === 'incline') {
      resultHtml = `
        <div class="result-box">
          <div class="result-title">Final Results</div>
          <div class="result-value">
            Net Force: ${results.netForce.toFixed(2)} N<br>
            Acceleration: ${results.acceleration.toFixed(2)} m/s²<br>
            Motion: ${results.motion}
          </div>
        </div>`;
    } else if (results.mode === 'twoblock') {
      resultHtml = `
        <div class="result-box">
          <div class="result-title">Final Results</div>
          <div class="result-value">
            System Acceleration: ${results.acceleration.toFixed(2)} m/s²<br>
            String Tension: ${results.tension.toFixed(2)} N<br>
            Direction: ${results.direction.replace('_', ' ')}
          </div>
        </div>`;
    }
    
    content.innerHTML = stepsHtml + resultHtml;
  }
  
  displayError(message) {
    const content = document.getElementById('solutionContent');
    content.innerHTML = `<div class="error-message">Error: ${message}</div>`;
  }
  
  drawInitialDiagram() {
    this.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);
    
    const centerX = this.canvas.width / 2;
    const centerY = this.canvas.height / 2;
    
    // Draw coordinate system
    this.drawCoordinateSystem();
    
    switch(this.currentMode) {
      case 'horizontal':
        this.drawHorizontalSetup(centerX, centerY);
        break;
      case 'incline':
        this.drawInclineSetup(centerX, centerY);
        break;
      case 'twoblock':
        this.drawTwoBlockSetup(centerX, centerY);
        break;
    }
  }
  
  drawCoordinateSystem() {
    this.ctx.strokeStyle = '#9ca3af';
    this.ctx.lineWidth = 1;
    this.ctx.setLineDash([5, 5]);
    
    // Grid lines
    for (let x = 0; x < this.canvas.width; x += 40) {
      this.ctx.beginPath();
      this.ctx.moveTo(x, 0);
      this.ctx.lineTo(x, this.canvas.height);
      this.ctx.stroke();
    }
    
    for (let y = 0; y < this.canvas.height; y += 40) {
      this.ctx.beginPath();
      this.ctx.moveTo(0, y);
      this.ctx.lineTo(this.canvas.width, y);
      this.ctx.stroke();
    }
    
    this.ctx.setLineDash([]);
  }
  
  drawHorizontalSetup(centerX, centerY) {
    // Draw surface
    this.ctx.strokeStyle = '#374151';
    this.ctx.lineWidth = 3;
    this.ctx.beginPath();
    this.ctx.moveTo(50, centerY + 30);
    this.ctx.lineTo(this.canvas.width - 50, centerY + 30);
    this.ctx.stroke();
    
    // Draw object
    this.ctx.fillStyle = '#dbeafe';
    this.ctx.strokeStyle = '#2563eb';
    this.ctx.lineWidth = 2;
    this.ctx.fillRect(centerX - 25, centerY - 20, 50, 40);
    this.ctx.strokeRect(centerX - 25, centerY - 20, 50, 40);
    
    // Label
    this.ctx.fillStyle = '#374151';
    this.ctx.font = '14px Inter';
    this.ctx.textAlign = 'center';
    this.ctx.fillText('Object', centerX, centerY + 50);
  }
  
  drawInclineSetup(centerX, centerY) {
    const angle = (parseFloat(document.getElementById('angle').value) || 30) * Math.PI / 180;
    
    // Draw incline
    this.ctx.strokeStyle = '#374151';
    this.ctx.lineWidth = 3;
    this.ctx.beginPath();
    this.ctx.moveTo(centerX - 100, centerY + 50);
    this.ctx.lineTo(centerX + 100, centerY + 50 - 100 * Math.tan(angle));
    this.ctx.lineTo(centerX + 100, centerY + 50);
    this.ctx.closePath();
    this.ctx.fillStyle = '#f3f4f6';
    this.ctx.fill();
    this.ctx.stroke();
    
    // Draw object on incline
    const objX = centerX - 20;
    const objY = centerY + 30 - 20 * Math.tan(angle);
    this.ctx.save();
    this.ctx.translate(objX, objY);
    this.ctx.rotate(-angle);
    this.ctx.fillStyle = '#dbeafe';
    this.ctx.strokeStyle = '#2563eb';
    this.ctx.lineWidth = 2;
    this.ctx.fillRect(-15, -15, 30, 30);
    this.ctx.strokeRect(-15, -15, 30, 30);
    this.ctx.restore();
  }
  
  drawTwoBlockSetup(centerX, centerY) {
    // Draw pulley
    this.ctx.strokeStyle = '#374151';
    this.ctx.lineWidth = 3;
    this.ctx.beginPath();
    this.ctx.arc(centerX + 80, centerY - 50, 20, 0, 2 * Math.PI);
    this.ctx.stroke();
    
    // Draw string
    this.ctx.beginPath();
    this.ctx.moveTo(centerX + 25, centerY);
    this.ctx.lineTo(centerX + 60, centerY - 50);
    this.ctx.lineTo(centerX + 100, centerY - 50);
    this.ctx.lineTo(centerX + 100, centerY + 80);
    this.ctx.stroke();
    
    // Draw masses
    this.ctx.fillStyle = '#dbeafe';
    this.ctx.strokeStyle = '#2563eb';
    this.ctx.lineWidth = 2;
    
    // Mass 1 (left)
    this.ctx.fillRect(centerX - 25, centerY - 20, 50, 40);
    this.ctx.strokeRect(centerX - 25, centerY - 20, 50, 40);
    
    // Mass 2 (hanging)
    this.ctx.fillRect(centerX + 85, centerY + 60, 30, 40);
    this.ctx.strokeRect(centerX + 85, centerY + 60, 30, 40);
    
    // Labels
    this.ctx.fillStyle = '#374151';
    this.ctx.font = '12px Inter';
    this.ctx.textAlign = 'center';
    this.ctx.fillText('m₁', centerX, centerY + 55);
    this.ctx.fillText('m₂', centerX + 100, centerY + 115);
  }
  
  redrawDiagram() {
    this.drawInitialDiagram();
    
    if (this.results && this.showingForces) {
      this.drawForceVectors();
    }
  }
  
  drawForceVectors() {
    if (!this.results) return;
    
    const centerX = this.canvas.width / 2;
    const centerY = this.canvas.height / 2;
    const scale = 2; // Scale factor for force vectors
    
    switch(this.results.mode) {
      case 'horizontal':
        // Weight (red, downward)
        this.drawVector(centerX, centerY, 0, this.results.weight * scale, '#dc2626', 'mg');
        
        // Normal (blue, upward)
        this.drawVector(centerX, centerY, 0, -this.results.normal * scale, '#2563eb', 'N');
        
        // Applied force (green, horizontal)
        this.drawVector(centerX, centerY, this.results.appliedForce * scale * 5, 0, '#16a34a', 'F');
        
        // Friction (orange, horizontal)
        if (Math.abs(this.results.friction) > 0.1) {
          this.drawVector(centerX, centerY, this.results.friction * scale * 5, 0, '#f59e0b', 'f');
        }
        break;
        
      case 'incline':
        const angle = parseFloat(document.getElementById('angle').value) * Math.PI / 180;
        const objX = centerX - 20;
        const objY = centerY + 30 - 20 * Math.tan(angle);
        
        // Weight components
        if (this.showingComponents) {
          // Parallel component
          this.drawVector(objX, objY, 
            this.results.weightParallel * Math.cos(angle) * scale * 3, 
            this.results.weightParallel * Math.sin(angle) * scale * 3, 
            '#dc2626', 'mg∥');
          
          // Perpendicular component
          this.drawVector(objX, objY,
            this.results.weightPerpendicular * Math.sin(angle) * scale * 2,
            -this.results.weightPerpendicular * Math.cos(angle) * scale * 2,
            '#dc2626', 'mg⊥');
        } else {
          // Total weight
          this.drawVector(objX, objY, 0, this.results.weight * scale, '#dc2626', 'mg');
        }
        
        // Normal force
        this.drawVector(objX, objY,
          this.results.normal * Math.sin(angle) * scale * 2,
          -this.results.normal * Math.cos(angle) * scale * 2,
          '#2563eb', 'N');
        break;
    }
  }
  
  drawVector(startX, startY, deltaX, deltaY, color, label) {
    this.ctx.strokeStyle = color;
    this.ctx.fillStyle = color;
    this.ctx.lineWidth = 3;
    
    const endX = startX + deltaX;
    const endY = startY + deltaY;
    
    // Draw line
    this.ctx.beginPath();
    this.ctx.moveTo(startX, startY);
    this.ctx.lineTo(endX, endY);
    this.ctx.stroke();
    
    // Draw arrowhead
    const angle = Math.atan2(deltaY, deltaX);
    const arrowLength = 12;
    
    this.ctx.beginPath();
    this.ctx.moveTo(endX, endY);
    this.ctx.lineTo(
      endX - arrowLength * Math.cos(angle - Math.PI / 6),
      endY - arrowLength * Math.sin(angle - Math.PI / 6)
    );
    this.ctx.moveTo(endX, endY);
    this.ctx.lineTo(
      endX - arrowLength * Math.cos(angle + Math.PI / 6),
      endY - arrowLength * Math.sin(angle + Math.PI / 6)
    );
    this.ctx.stroke();
    
    // Draw label
    this.ctx.fillStyle = color;
    this.ctx.font = 'bold 12px Inter';
    this.ctx.textAlign = 'center';
    this.ctx.fillText(label, endX + 15, endY - 10);
  }
  
  toggleAnimation() {
    const btn = document.getElementById('animateBtn');
    if (this.animating) {
      this.animating = false;
      btn.textContent = 'Animate Motion';
      this.redrawDiagram();
    } else {
      this.animating = true;
      btn.textContent = 'Stop Animation';
      this.startAnimation();
    }
  }
  
  startAnimation() {
    if (!this.results || !this.animating) return;
    
    let time = 0;
    const animate = () => {
      if (!this.animating) return;
      
      this.drawInitialDiagram();
      
      if (this.showingForces) {
        this.drawForceVectors();
      }
      
      // Add motion visualization based on acceleration
      if (this.results.acceleration > 0.1) {
        const displacement = 0.5 * this.results.acceleration * time * time / 100;
        this.drawMotionIndicator(displacement);
      }
      
      time += 0.1;
      requestAnimationFrame(animate);
    };
    
    animate();
  }
  
  drawMotionIndicator(displacement) {
    const centerX = this.canvas.width / 2;
    const centerY = this.canvas.height / 2;
    
    // Draw motion trail
    this.ctx.strokeStyle = '#22c55e';
    this.ctx.lineWidth = 2;
    this.ctx.setLineDash([5, 3]);
    
    switch(this.results.mode) {
      case 'horizontal':
        this.ctx.beginPath();
        this.ctx.moveTo(centerX, centerY);
        this.ctx.lineTo(centerX + displacement * 50, centerY);
        this.ctx.stroke();
        break;
    }
    
    this.ctx.setLineDash([]);
  }
  
  clearAll() {
    document.getElementById('mass1').value = '5';
    document.getElementById('mass2').value = '3';
    document.getElementById('appliedForce').value = '20';
    document.getElementById('angle').value = '30';
    document.getElementById('muStatic').value = '0.3';
    document.getElementById('muKinetic').value = '0.2';
    
    this.results = null;
    document.getElementById('solutionContent').innerHTML = `
      <p style="color:#6c757d;text-align:center;margin-top:40px">
        Select a scenario and click "Calculate Forces" to see the detailed solution.
      </p>`;
    
    this.drawInitialDiagram();
  }
}

// Initialize everything when DOM loads
document.addEventListener('DOMContentLoaded', () => {
  // Initialize the calculator
  new NewtonCalculator();
  
  // Initialize glossary
  initGlossary();
  
  // Initialize MCQs
  initMCQs();
});
</script>
</body>
</html>